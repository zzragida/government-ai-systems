const Tab4DataIntegrity = () => {
    const [slides1, setSlides1] = React.useState([]);
    const [isRunning1, setIsRunning1] = React.useState(false);
    const [currentSlide1, setCurrentSlide1] = React.useState(0);
    
    const [slides2, setSlides2] = React.useState([]);
    const [isRunning2, setIsRunning2] = React.useState(false);
    const [currentSlide2, setCurrentSlide2] = React.useState(0);
    const [targetNode, setTargetNode] = React.useState(42);

    const sha256 = (text) => {
        let hash = 0;
        for (let i = 0; i < text.length; i++) {
            const char = text.charCodeAt(i);
            hash = ((hash << 5) - hash) + char;
            hash = hash & hash;
        }
        return Math.abs(hash).toString(16).padStart(64, '0');
    };

    const blsSign = (message, nodeId) => {
        return sha256(message + nodeId).substring(0, 96);
    };

    const blsAggregate = (signatures) => {
        let result = 0;
        signatures.forEach(sig => {
            for (let i = 0; i < sig.length; i += 8) {
                result ^= parseInt(sig.substring(i, i + 8), 16);
            }
        });
        return result.toString(16).padStart(96, '0');
    };

    const buildMerkleTree = (leaves) => {
        let level = leaves;
        const tree = [level];
        
        while (level.length > 1) {
            const newLevel = [];
            for (let i = 0; i < level.length; i += 2) {
                const left = level[i];
                const right = i + 1 < level.length ? level[i + 1] : left;
                newLevel.push(sha256(left + right).substring(0, 64));
            }
            tree.push(newLevel);
            level = newLevel;
        }
        return tree;
    };

    const getMerkleProof = (tree, index) => {
        const proof = [];
        let currentIndex = index;
        
        for (let i = 0; i < tree.length - 1; i++) {
            const level = tree[i];
            const isRightNode = currentIndex % 2 === 1;
            const siblingIndex = isRightNode ? currentIndex - 1 : currentIndex + 1;
            
            if (siblingIndex < level.length) {
                proof.push({
                    hash: level[siblingIndex],
                    position: isRightNode ? 'left' : 'right'
                });
            }
            currentIndex = Math.floor(currentIndex / 2);
        }
        return proof;
    };

    const runBLSVerification = async () => {
        setIsRunning1(true);
        setSlides1([]);
        setCurrentSlide1(0);

        // ë‹¨ê³„ 1: ë…¸ë“œ í‚¤ ìŒ ìƒì„± ë° ë“±ë¡
        await new Promise(resolve => setTimeout(resolve, 2000));
        const keyPairs = [];
        for (let i = 1; i <= 100; i++) {
            const nodeId = 'Node_2' + String(i).padStart(3, '0');
            const secretKey = sha256(nodeId + '_secret_' + Date.now());
            const publicKey = sha256('public_' + secretKey);
            keyPairs.push({ nodeId, secretKey, publicKey });
        }
        setSlides1(prev => [...prev, {
            step: 1,
            title: 'ë…¸ë“œ í‚¤ ìŒ ìƒì„± ë° ë“±ë¡',
            content: 'Layer 2ì˜ ê° ë…¸ë“œê°€ ë„¤íŠ¸ì›Œí¬ ì§„ì… ì‹œ BLS í‚¤ ìŒì„ ë…ë¦½ì ìœ¼ë¡œ ìƒì„±',
            description: [
                'ğŸ” BLS ì•”í˜¸í™”ì˜ ê¸°ì´ˆ',
                '',
                'ê° ë…¸ë“œëŠ” ìì‹ ë§Œì˜ ê³ ìœ í•œ í‚¤ ìŒì„ ë³´ìœ í•©ë‹ˆë‹¤:',
                'â€¢ ê°œì¸í‚¤(Secret Key): ì ˆëŒ€ ê³µê°œë˜ì§€ ì•ŠëŠ” ë¹„ë°€ê°’',
                'â€¢ ê³µê°œí‚¤(Public Key): ëª¨ë“  ë…¸ë“œì—ê²Œ ê³µê°œë˜ëŠ” ê°’',
                '',
                'í‚¤ ìƒì„± ê³¼ì •:',
                '1. ë…¸ë“œê°€ ëœë¤í•œ 256bit ìˆ«ì ìƒì„± â†’ ê°œì¸í‚¤',
                '2. íƒ€ì›ê³¡ì„  ì—°ì‚°ìœ¼ë¡œ ê³µê°œí‚¤ ìœ ë„',
                '3. ê³µê°œí‚¤ë§Œ ë„¤íŠ¸ì›Œí¬ì— ë“±ë¡',
                '4. ê°œì¸í‚¤ëŠ” ë…¸ë“œ ë‚´ë¶€ì—ë§Œ ì•ˆì „í•˜ê²Œ ë³´ê´€',
                '',
                'ì´ í‚¤ ìŒìœ¼ë¡œ ë…¸ë“œëŠ”:',
                'â€¢ ìì‹ ë§Œ ìƒì„±í•  ìˆ˜ ìˆëŠ” ì„œëª…ì„ ë§Œë“¤ ìˆ˜ ìˆê³ ',
                'â€¢ ë‹¤ë¥¸ ë…¸ë“œê°€ ìì‹ ì„ ì‚¬ì¹­í•  ìˆ˜ ì—†ê²Œ ë©ë‹ˆë‹¤'
            ],
            data: [
                `ìƒì„±ëœ í‚¤ ìŒ ì˜ˆì‹œ (100ê°œ ì¤‘ 3ê°œ):`,
                '',
                `Node_2001:`,
                `  ê°œì¸í‚¤(SK): ${keyPairs[0].secretKey.substring(0, 32)}... (ë¹„ë°€, ë…¸ë“œë§Œ ë³´ê´€)`,
                `  ê³µê°œí‚¤(PK): ${keyPairs[0].publicKey.substring(0, 32)}... (ê³µê°œ, ë„¤íŠ¸ì›Œí¬ ë“±ë¡)`,
                '',
                `Node_2002:`,
                `  ê°œì¸í‚¤(SK): ${keyPairs[1].secretKey.substring(0, 32)}... (ë¹„ë°€, ë…¸ë“œë§Œ ë³´ê´€)`,
                `  ê³µê°œí‚¤(PK): ${keyPairs[1].publicKey.substring(0, 32)}... (ê³µê°œ, ë„¤íŠ¸ì›Œí¬ ë“±ë¡)`,
                '',
                `Node_2003:`,
                `  ê°œì¸í‚¤(SK): ${keyPairs[2].secretKey.substring(0, 32)}... (ë¹„ë°€, ë…¸ë“œë§Œ ë³´ê´€)`,
                `  ê³µê°œí‚¤(PK): ${keyPairs[2].publicKey.substring(0, 32)}... (ê³µê°œ, ë„¤íŠ¸ì›Œí¬ ë“±ë¡)`,
                '',
                `... (ì´ 100ê°œ ë…¸ë“œì˜ í‚¤ ìŒ ìƒì„± ì™„ë£Œ)`,
                '',
                `âœ… 100ê°œ ê³µê°œí‚¤ê°€ Layer 2 ë…¸ë“œ ëª©ë¡ì— ë“±ë¡ë¨`
            ],
            icon: 'fa-key',
            color: 'indigo'
        }]);
        setCurrentSlide1(1);

        // ë‹¨ê³„ 2: Hash Chain ìˆ˜ì§‘
        await new Promise(resolve => setTimeout(resolve, 2000));
        const nodeHashes = [];
        for (let i = 1; i <= 100; i++) {
            nodeHashes.push(sha256('Node_2' + String(i).padStart(3, '0') + '_data'));
        }
        setSlides1(prev => [...prev, {
            step: 2,
            title: 'Layer 2 ë…¸ë“œ Hash Chain ìˆ˜ì§‘',
            content: 'ê° ë…¸ë“œê°€ ìì‹ ì´ ì²˜ë¦¬í•œ ëª¨ë“  íŠ¸ëœì­ì…˜ì˜ ìµœì¢… Hash Chain ì œì¶œ',
            description: [
                'ğŸ“Š Hash Chainì´ë€?',
                '',
                'Hash Chainì€ ë…¸ë“œê°€ ì²˜ë¦¬í•œ ëª¨ë“  ë°ì´í„°ì˜ ì—°ê²°ëœ í•´ì‹œê°’ì…ë‹ˆë‹¤:',
                '',
                'ì˜ˆì‹œ: Node_2001ì˜ Hash Chain í˜•ì„±',
                '1. ì²« íŠ¸ëœì­ì…˜ ì²˜ë¦¬: Hashâ‚ = SHA256(Txâ‚)',
                '2. ë‘ë²ˆì§¸ íŠ¸ëœì­ì…˜: Hashâ‚‚ = SHA256(Hashâ‚ + Txâ‚‚)',
                '3. ì„¸ë²ˆì§¸ íŠ¸ëœì­ì…˜: Hashâ‚ƒ = SHA256(Hashâ‚‚ + Txâ‚ƒ)',
                '...',
                'N. ìµœì¢… Hash: HashN = SHA256(HashN-1 + TxN)',
                '',
                'ì´ ìµœì¢… HashNì´ ê·¸ ë…¸ë“œì˜ ëª¨ë“  ë°ì´í„°ë¥¼ ëŒ€í‘œí•©ë‹ˆë‹¤.',
                'í•˜ë‚˜ë¼ë„ ìœ„ì¡°ë˜ë©´ ìµœì¢… í•´ì‹œê°€ ì™„ì „íˆ ë‹¬ë¼ì§‘ë‹ˆë‹¤.',
                '',
                'ì§€ê¸ˆ 100ê°œ ë…¸ë“œê°€ ê°ìì˜ ìµœì¢… Hash Chainì„ ì œì¶œí•˜ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.'
            ],
            data: [
                `ìˆ˜ì§‘ëœ Hash Chain (100ê°œ ì¤‘ 5ê°œ ì˜ˆì‹œ):`,
                '',
                `Node_2001: ${nodeHashes[0]}`,
                `          â†‘ ì´ ë…¸ë“œê°€ ì²˜ë¦¬í•œ ëª¨ë“  íŠ¸ëœì­ì…˜ì˜ ìµœì¢… í•´ì‹œ`,
                '',
                `Node_2002: ${nodeHashes[1]}`,
                `Node_2003: ${nodeHashes[2]}`,
                `Node_2004: ${nodeHashes[3]}`,
                `Node_2005: ${nodeHashes[4]}`,
                '',
                `... (ì´ 100ê°œ Hash Chain)`,
                '',
                `ê° HashëŠ” 64ì(32 bytes)ì˜ 16ì§„ìˆ˜ì…ë‹ˆë‹¤.`,
                `ì´ 100ê°œ Hashë¥¼ í•˜ë‚˜ë¡œ ìš”ì•½í•˜ëŠ” ê²ƒì´ ë‹¤ìŒ ë‹¨ê³„ì…ë‹ˆë‹¤.`
            ],
            icon: 'fa-database',
            color: 'blue'
        }]);
        setCurrentSlide1(2);

        // ë‹¨ê³„ 3: Merkle Tree êµ¬ì„±
        await new Promise(resolve => setTimeout(resolve, 2000));
        const merkleTree = buildMerkleTree(nodeHashes);
        setSlides1(prev => [...prev, {
            step: 3,
            title: 'Merkle Tree êµ¬ì„±',
            content: '100ê°œ Hashë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ìš”ì•½í•˜ëŠ” ì´ì§„ íŠ¸ë¦¬ êµ¬ì¡° ìƒì„±',
            description: [
                'ğŸŒ³ Merkle Treeë€?',
                '',
                '100ê°œì˜ í•´ì‹œë¥¼ ë‹¨ í•˜ë‚˜ì˜ í•´ì‹œ(Merkle Root)ë¡œ ì••ì¶•í•˜ëŠ” ë°©ë²•:',
                '',
                'êµ¬ì¡°:',
                '       [Merkle Root]              â† Level 7 (1ê°œ)',
                '         /        \\',
                '      [H1]        [H2]            â† Level 6 (2ê°œ)',
                '      /  \\        /  \\',
                '   [H3] [H4]   [H5] [H6]         â† Level 5 (4ê°œ)',
                '   ...ê³„ì† ë¶„ê¸°...',
                '   [N1][N2]...[N99][N100]        â† Level 0 (100ê°œ ë¦¬í”„)',
                '',
                'ê³„ì‚° ë°©ì‹:',
                'â€¢ Level 0: ì›ë³¸ 100ê°œ Hash',
                'â€¢ Level 1: SHA256(N1+N2), SHA256(N3+N4), ... â†’ 50ê°œ',
                'â€¢ Level 2: SHA256(H1+H2), SHA256(H3+H4), ... â†’ 25ê°œ',
                'â€¢ Level 3: 13ê°œ',
                'â€¢ Level 4: 7ê°œ',
                'â€¢ Level 5: 4ê°œ',
                'â€¢ Level 6: 2ê°œ',
                'â€¢ Level 7: 1ê°œ Merkle Root âœ…',
                '',
                'ì´ì œ 100ê°œ Hash = 1ê°œ Merkle Rootë¡œ í‘œí˜„ ê°€ëŠ¥!'
            ],
            data: [
                `Merkle Tree êµ¬ì¡°:`,
                '',
                `Level 0 (ë¦¬í”„ ë…¸ë“œ): 100ê°œ Hash Chain`,
                `  â””â”€ ${nodeHashes[0].substring(0, 24)}...`,
                `  â””â”€ ${nodeHashes[1].substring(0, 24)}...`,
                `  â””â”€ ... (98ê°œ ë”)`,
                '',
                `Level 1 (ì¤‘ê°„ ë…¸ë“œ): 50ê°œ`,
                `  â””â”€ SHA256(Hash1 + Hash2) = ${merkleTree[1] ? merkleTree[1][0].substring(0, 24) + '...' : '...'}`,
                `  â””â”€ SHA256(Hash3 + Hash4) = ${merkleTree[1] && merkleTree[1][1] ? merkleTree[1][1].substring(0, 24) + '...' : '...'}`,
                `  â””â”€ ... (48ê°œ ë”)`,
                '',
                `Level 2: 25ê°œ`,
                `Level 3: 13ê°œ`,
                `Level 4: 7ê°œ`,
                `Level 5: 4ê°œ`,
                `Level 6: 2ê°œ`,
                '',
                `Level 7 (Merkle Root): 1ê°œ âœ…`,
                `  â””â”€ ${merkleTree[merkleTree.length - 1][0].substring(0, 32)}...`,
                '',
                `íŠ¸ë¦¬ ë†’ì´: ${merkleTree.length - 1}ì¸µ`,
                `ì´ ë…¸ë“œ ìˆ˜: ${merkleTree.reduce((sum, level) => sum + level.length, 0)}ê°œ`
            ],
            icon: 'fa-sitemap',
            color: 'green'
        }]);
        setCurrentSlide1(3);

        // ë‹¨ê³„ 4: Merkle Root ê³„ì‚°
        await new Promise(resolve => setTimeout(resolve, 2000));
        const merkleRoot = merkleTree[merkleTree.length - 1][0];
        setSlides1(prev => [...prev, {
            step: 4,
            title: 'Merkle Root ê³„ì‚° ì™„ë£Œ',
            content: '100ê°œ ë…¸ë“œì˜ ëª¨ë“  ë°ì´í„°ë¥¼ ëŒ€í‘œí•˜ëŠ” ë‹¨ì¼ í•´ì‹œê°’ ë„ì¶œ',
            description: [
                'ğŸ‘‘ Merkle Rootì˜ ì˜ë¯¸',
                '',
                'Merkle RootëŠ” 100ê°œ ë…¸ë“œ ì „ì²´ë¥¼ ëŒ€í‘œí•˜ëŠ” "ë””ì§€í„¸ ì§€ë¬¸"ì…ë‹ˆë‹¤.',
                '',
                'íŠ¹ì„±:',
                'â€¢ 100ê°œ Hash ì¤‘ ë‹¨ í•˜ë‚˜ë¼ë„ ë³€ê²½ë˜ë©´',
                '  â†’ Merkle Rootê°€ ì™„ì „íˆ ë‹¬ë¼ì§',
                'â€¢ ì—­ìœ¼ë¡œ Merkle Rootë§Œ ì•Œë©´',
                '  â†’ 100ê°œ ì „ì²´ì˜ ë¬´ê²°ì„±ì„ ê²€ì¦ ê°€ëŠ¥',
                '',
                'ë¹„ìœ :',
                '100ëª…ì´ í•¨ê»˜ ì°ì€ ë‹¨ì²´ ì‚¬ì§„ì˜ "í•´ì‹œê°’"ê³¼ ê°™ìŠµë‹ˆë‹¤.',
                'í•œ ëª…ì´ë¼ë„ ë°”ë€Œë©´ ì‚¬ì§„ì´ ë‹¬ë¼ì§€ë“¯,',
                'í•˜ë‚˜ì˜ ë…¸ë“œ ë°ì´í„°ë¼ë„ ìœ„ì¡°ë˜ë©´ Merkle Rootê°€ ë°”ë€ë‹ˆë‹¤.',
                '',
                'ì´ì œ ì´ Merkle Rootì— ëŒ€í•´',
                '100ê°œ ë…¸ë“œê°€ ê°ê° ì„œëª…í•  ê²ƒì…ë‹ˆë‹¤.',
                '',
                'ì„œëª…ì˜ ì˜ë¯¸:',
                '"ë‚˜(ë…¸ë“œ)ëŠ” ì´ Merkle Rootê°€ ë§ë‹¤ê³  ë™ì˜í•©ë‹ˆë‹¤"'
            ],
            data: [
                `ğŸ“Œ ìµœì¢… Merkle Root:`,
                '',
                merkleRoot,
                '',
                `ì´ 32ë°”ì´íŠ¸ í•´ì‹œê°’ì´ ì˜ë¯¸í•˜ëŠ” ê²ƒ:`,
                '',
                `âœ“ Node_2001ì˜ ëª¨ë“  íŠ¸ëœì­ì…˜`,
                `âœ“ Node_2002ì˜ ëª¨ë“  íŠ¸ëœì­ì…˜`,
                `âœ“ Node_2003ì˜ ëª¨ë“  íŠ¸ëœì­ì…˜`,
                `  ...`,
                `âœ“ Node_2100ì˜ ëª¨ë“  íŠ¸ëœì­ì…˜`,
                '',
                `â†’ ì´ 100ê°œ ë…¸ë“œì˜ ì „ì²´ ë°ì´í„°ê°€`,
                `â†’ ì´ í•˜ë‚˜ì˜ í•´ì‹œê°’ìœ¼ë¡œ ì••ì¶•ë¨`,
                '',
                `í¬ê¸° ë¹„êµ:`,
                `â€¢ ì›ë³¸: 100ê°œ Ã— 32 bytes = 3,200 bytes`,
                `â€¢ ì••ì¶•: 1ê°œ Ã— 32 bytes = 32 bytes`,
                `â€¢ ì••ì¶•ë¥ : 100ë°°!`,
                '',
                `ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ê° ë…¸ë“œê°€ ì´ ê°’ì— ì„œëª…í•©ë‹ˆë‹¤.`
            ],
            highlight: merkleRoot,
            icon: 'fa-crown',
            color: 'yellow'
        }]);
        setCurrentSlide1(4);

        // ë‹¨ê³„ 5: BLS ì„œëª… ìƒì„±
        await new Promise(resolve => setTimeout(resolve, 2000));
        const signatures = [];
        for (let i = 0; i < 100; i++) {
            signatures.push(blsSign(merkleRoot, keyPairs[i].nodeId));
        }
        setSlides1(prev => [...prev, {
            step: 5,
            title: 'ê° ë…¸ë“œ BLS ì„œëª… ìƒì„±',
            content: '100ê°œ ë…¸ë“œê°€ ê°ìì˜ ê°œì¸í‚¤ë¡œ Merkle Rootì— ì„œëª…',
            description: [
                'âœï¸ BLS ì„œëª…ì´ ìƒì„±ë˜ëŠ” ê³¼ì •',
                '',
                'ê° ë…¸ë“œëŠ” ë…ë¦½ì ìœ¼ë¡œ ë‹¤ìŒì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:',
                '',
                'Node_2001ì˜ ë™ì‘:',
                '1. Merkle Rootë¥¼ í™•ì¸: "' + merkleRoot.substring(0, 16) + '..."',
                '2. ìì‹ ì˜ ê°œì¸í‚¤(SK_2001)ë¥¼ ê°€ì ¸ì˜´ (ë¹„ë°€)',
                '3. BLS ì„œëª… ìƒì„±:',
                '   Ïƒâ‚ = H(MerkleRoot)^SK_2001',
                '   (íƒ€ì›ê³¡ì„  ìœ„ì—ì„œì˜ ì§€ìˆ˜ ì—°ì‚°)',
                '4. ì„œëª… Ïƒâ‚ ì™„ì„± (48 bytes)',
                '',
                'Node_2002ë„ ë™ì¼í•˜ê²Œ:',
                '1. ê°™ì€ Merkle Root í™•ì¸',
                '2. ìì‹ ì˜ ê°œì¸í‚¤(SK_2002) ì‚¬ìš©',
                '3. Ïƒâ‚‚ = H(MerkleRoot)^SK_2002',
                '4. ì„œëª… Ïƒâ‚‚ ì™„ì„± (48 bytes)',
                '',
                '... ì´ëŸ° ì‹ìœ¼ë¡œ 100ê°œ ë…¸ë“œ ëª¨ë‘',
                '',
                'í•µì‹¬:',
                'â€¢ ëª¨ë‘ ê°™ì€ ë©”ì‹œì§€(Merkle Root)ì— ì„œëª…',
                'â€¢ í•˜ì§€ë§Œ ê°ì ë‹¤ë¥¸ ê°œì¸í‚¤ ì‚¬ìš©',
                'â€¢ ë”°ë¼ì„œ 100ê°œì˜ ì„œë¡œ ë‹¤ë¥¸ ì„œëª… ìƒì„±',
                '',
                'ê° ì„œëª…ì˜ ì˜ë¯¸:',
                '"ë‚˜ëŠ” ì´ Merkle Rootë¥¼ ìŠ¹ì¸í•©ë‹ˆë‹¤"'
            ],
            data: [
                `ìƒì„±ëœ BLS ì„œëª… (100ê°œ ì¤‘ 5ê°œ ì˜ˆì‹œ):`,
                '',
                `Node_2001ì´ ìƒì„±í•œ ì„œëª…:`,
                `  Ïƒâ‚ = ${signatures[0].substring(0, 48)}...`,
                `       ${signatures[0].substring(48)}`,
                `  í¬ê¸°: 48 bytes`,
                `  ì‚¬ìš© í‚¤: SK_2001 (ê°œì¸í‚¤, ë¹„ë°€)`,
                '',
                `Node_2002ê°€ ìƒì„±í•œ ì„œëª…:`,
                `  Ïƒâ‚‚ = ${signatures[1].substring(0, 48)}...`,
                `       ${signatures[1].substring(48)}`,
                `  í¬ê¸°: 48 bytes`,
                `  ì‚¬ìš© í‚¤: SK_2002 (ê°œì¸í‚¤, ë¹„ë°€)`,
                '',
                `Node_2003ì´ ìƒì„±í•œ ì„œëª…:`,
                `  Ïƒâ‚ƒ = ${signatures[2].substring(0, 48)}...`,
                `       ${signatures[2].substring(48)}`,
                `  í¬ê¸°: 48 bytes`,
                '',
                `Node_2004ê°€ ìƒì„±í•œ ì„œëª…: Ïƒâ‚„ = ... (48 bytes)`,
                `Node_2005ê°€ ìƒì„±í•œ ì„œëª…: Ïƒâ‚… = ... (48 bytes)`,
                '',
                `... (ì´ 100ê°œ ì„œëª…)`,
                '',
                `ğŸ“Š í˜„ì¬ ìƒíƒœ:`,
                `  â€¢ ì„œëª… ê°œìˆ˜: 100ê°œ`,
                `  â€¢ ê° ì„œëª… í¬ê¸°: 48 bytes`,
                `  â€¢ ì´ í¬ê¸°: 100 Ã— 48 = 4,800 bytes`,
                '',
                `ë‹¤ìŒ ë‹¨ê³„: ì´ 100ê°œë¥¼ 1ê°œë¡œ ì••ì¶•! (BLSì˜ í•µì‹¬)`
            ],
            icon: 'fa-signature',
            color: 'purple'
        }]);
        setCurrentSlide1(5);

        // ë‹¨ê³„ 6: BLS ì„œëª… ì§‘ê³„
        await new Promise(resolve => setTimeout(resolve, 2000));
        const aggregatedSig = blsAggregate(signatures);
        setSlides1(prev => [...prev, {
            step: 6,
            title: 'BLS ì„œëª… ì§‘ê³„ (í•µì‹¬!)',
            content: '100ê°œ ê°œë³„ ì„œëª…ì„ 1ê°œì˜ ì§‘ê³„ ì„œëª…ìœ¼ë¡œ ì••ì¶•',
            description: [
                'ğŸ”® BLS ì„œëª… ì§‘ê³„ - ë¸”ë¡ì²´ì¸ì˜ ë§ˆë²•',
                '',
                'ì¼ë°˜ ì„œëª…(ECDSA, RSA)ê³¼ì˜ ì°¨ì´:',
                '',
                'âŒ ì¼ë°˜ ì„œëª…:',
                'â€¢ 100ê°œ ì„œëª…ì„ í•©ì¹˜ë©´ â†’ 100ê°œ ê·¸ëŒ€ë¡œ',
                'â€¢ ê²€ì¦í•  ë•Œë„ â†’ 100ë²ˆ ê²€ì¦ í•„ìš”',
                'â€¢ í¬ê¸°: 100 Ã— 70 bytes = 7,000 bytes',
                '',
                'âœ… BLS ì„œëª…:',
                'â€¢ 100ê°œ ì„œëª…ì„ ì§‘ê³„ â†’ 1ê°œë¡œ ì••ì¶•!',
                'â€¢ ê²€ì¦í•  ë•Œë„ â†’ 1ë²ˆë§Œ ê²€ì¦!',
                'â€¢ í¬ê¸°: 1 Ã— 48 bytes = 48 bytes',
                '',
                'ì§‘ê³„ ê³¼ì • (íƒ€ì›ê³¡ì„  ì—°ì‚°):',
                '',
                'Ïƒ_aggregated = Ïƒâ‚ Â· Ïƒâ‚‚ Â· Ïƒâ‚ƒ Â· ... Â· Ïƒâ‚â‚€â‚€',
                '',
                'ì—¬ê¸°ì„œ Â· ëŠ” íƒ€ì›ê³¡ì„  ìœ„ì—ì„œì˜ ì  ë§ì…ˆì…ë‹ˆë‹¤.',
                '',
                'ìˆ˜í•™ì  ì›ë¦¬:',
                'Ïƒ_agg = H(M)^(SKâ‚ + SKâ‚‚ + ... + SKâ‚â‚€â‚€)',
                '',
                'ì´ê²Œ ê°€ëŠ¥í•œ ì´ìœ :',
                '(a^x) Â· (a^y) = a^(x+y) (ì§€ìˆ˜ë²•ì¹™)',
                '',
                'ê²°ê³¼:',
                'â€¢ 100ê°œ ì„œëª…ì˜ ëª¨ë“  ì •ë³´ê°€ 1ê°œì— í¬í•¨ë¨',
                'â€¢ í•˜ì§€ë§Œ ê°œë³„ ê°œì¸í‚¤ëŠ” ì—¬ì „íˆ ë¹„ë°€',
                'â€¢ ê²€ì¦ ì‹œ 100ê°œ ê³µê°œí‚¤ë¥¼ ë”í•˜ë©´ ê²€ì¦ ê°€ëŠ¥',
                '',
                'ì´ê²ƒì´ Ethereum 2.0ì´ BLSë¥¼ ì„ íƒí•œ ì´ìœ !'
            ],
            data: [
                `ğŸ”¬ BLS ì§‘ê³„ ì—°ì‚°:`,
                '',
                `ì…ë ¥ (100ê°œ ì„œëª…):`,
                `  Ïƒâ‚ = ${signatures[0].substring(0, 24)}... (48 bytes)`,
                `  Ïƒâ‚‚ = ${signatures[1].substring(0, 24)}... (48 bytes)`,
                `  Ïƒâ‚ƒ = ${signatures[2].substring(0, 24)}... (48 bytes)`,
                `  ...`,
                `  Ïƒâ‚â‚€â‚€ = ${signatures[99].substring(0, 24)}... (48 bytes)`,
                '',
                `íƒ€ì›ê³¡ì„  ë§ì…ˆ ì—°ì‚°:`,
                `  Ïƒ_agg = Ïƒâ‚ Â· Ïƒâ‚‚ Â· Ïƒâ‚ƒ Â· ... Â· Ïƒâ‚â‚€â‚€`,
                `        = H(M)^(SKâ‚+SKâ‚‚+...+SKâ‚â‚€â‚€)`,
                '',
                `ì¶œë ¥ (ì§‘ê³„ ì„œëª…):`,
                `  Ïƒ_aggregated = ${aggregatedSig.substring(0, 48)}`,
                `                 ${aggregatedSig.substring(48)}`,
                ``,
                `ğŸ“Š ì••ì¶• íš¨ê³¼:`,
                `  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`,
                `  ì…ë ¥ í¬ê¸°: 4,800 bytes (100ê°œ Ã— 48)`,
                `  ì¶œë ¥ í¬ê¸°: 48 bytes (1ê°œ)`,
                `  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`,
                `  ì••ì¶•ë¥ : 100ë°° ê°ì†Œ! ğŸ‰`,
                ``,
                `âœ¨ ë†€ë¼ìš´ ì :`,
                `â€¢ 100ê°œì˜ ëª¨ë“  ì •ë³´ê°€ ì´ 48 bytesì— ë‹´ê¹€`,
                `â€¢ ê²€ì¦ ì‹œ 100ê°œ ë…¸ë“œ ëª¨ë‘ ë™ì˜í–ˆìŒì„ í™•ì¸ ê°€ëŠ¥`,
                `â€¢ ë¸”ë¡ì²´ì¸ì— ì €ì¥í•´ë„ ë‹¨ 48 bytesë§Œ ì°¨ì§€`,
                `â€¢ ì´ë”ë¦¬ì›€ 2.0ì´ BLSë¥¼ ì‚¬ìš©í•˜ëŠ” í•µì‹¬ ì´ìœ !`
            ],
            highlight: '100ë°° ì••ì¶•!',
            icon: 'fa-compress-alt',
            color: 'orange'
        }]);
        setCurrentSlide1(6);

        // ë‹¨ê³„ 7: Layer 3 ì „ì†¡
        await new Promise(resolve => setTimeout(resolve, 2000));
        setSlides1(prev => [...prev, {
            step: 7,
            title: 'Layer 2 â†’ Layer 3 ë°ì´í„° ì „ì†¡',
            content: 'Merkle Root + BLS ì§‘ê³„ ì„œëª…ì„ ìƒìœ„ ê³„ì¸µìœ¼ë¡œ ì „ì†¡',
            description: [
                'ğŸ“¤ ìƒìœ„ ê³„ì¸µìœ¼ë¡œì˜ ê²½ëŸ‰ ì „ì†¡',
                '',
                'ì „ì†¡í•˜ëŠ” ë°ì´í„°:',
                '',
                '1. Merkle Root (32 bytes)',
                '   - 100ê°œ ë…¸ë“œ ë°ì´í„°ì˜ ìš”ì•½',
                '',
                '2. BLS ì§‘ê³„ ì„œëª… (48 bytes)',
                '   - 100ê°œ ë…¸ë“œì˜ ë™ì˜ ì¦ëª…',
                '',
                '3. ë©”íƒ€ë°ì´í„° (ì†ŒëŸ‰)',
                '   - ë…¸ë“œ ê°œìˆ˜: 100',
                '   - íƒ€ì„ìŠ¤íƒ¬í”„',
                '   - Layer ì‹ë³„ì',
                '',
                '4. ê³µê°œí‚¤ ëª©ë¡ (ì°¸ì¡°ìš©)',
                '   - ì´ë¯¸ Layer 3ê°€ ë³´ìœ  (ì‚¬ì „ ë“±ë¡ë¨)',
                '   - ì‹¤ì œ ì „ì†¡ ë¶ˆí•„ìš”',
                '',
                'ë¹„êµ:',
                '',
                'âŒ BLS ì—†ì´ ì „ì†¡í•œë‹¤ë©´:',
                'â€¢ 100ê°œ Ã— 70 bytes = 7,000 bytes',
                'â€¢ ë„¤íŠ¸ì›Œí¬ ë¶€í•˜ ë†’ìŒ',
                'â€¢ ê²€ì¦ì— ì˜¤ë˜ ê±¸ë¦¼',
                '',
                'âœ… BLS ì‚¬ìš© ì‹œ:',
                'â€¢ 32 + 48 + Î± = ~80 bytes',
                'â€¢ ë„¤íŠ¸ì›Œí¬ ë¶€í•˜ ìµœì†Œ',
                'â€¢ ê²€ì¦ ë¹ ë¦„ (1ë²ˆ)',
                '',
                'íš¨ê³¼:',
                'â€¢ ëŒ€ì—­í­ ì ˆì•½: 87ë°°',
                'â€¢ ì „ì†¡ ì‹œê°„: ê±°ì˜ ì¦‰ì‹œ',
                'â€¢ í™•ì¥ì„±: ë…¸ë“œ ìˆ˜ì™€ ë¬´ê´€í•˜ê²Œ ì¼ì •'
            ],
            data: [
                `ğŸ“¦ ì „ì†¡ íŒ¨í‚· êµ¬ì„±:`,
                '',
                `{`,
                `  "layer_id": "Layer_2",`,
                `  "timestamp": ${Date.now()},`,
                `  "node_count": 100,`,
                `  `,
                `  "merkle_root": "${merkleRoot}",`,
                `  `,
                `  "bls_signature": "${aggregatedSig}",`,
                `  `,
                `  "public_keys": "ì°¸ì¡°: Layer 2 ë…¸ë“œ ëª©ë¡"`,
                `}`,
                '',
                `ğŸ“Š íŒ¨í‚· í¬ê¸° ë¶„ì„:`,
                `  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`,
                `  Merkle Root:    32 bytes`,
                `  BLS ì„œëª…:       48 bytes`,
                `  ë©”íƒ€ë°ì´í„°:     ~20 bytes`,
                `  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`,
                `  ì´ í¬ê¸°:        ~100 bytes`,
                ``,
                `ğŸš€ ì „ì†¡ ì™„ë£Œ!`,
                ``,
                `Layer 3 Representative ë…¸ë“œë¡œ ì „ì†¡ë¨`,
                `- ì£¼ì†Œ: Layer_3_Node_001`,
                `- ìƒíƒœ: ìˆ˜ì‹  ëŒ€ê¸° ì¤‘...`
            ],
            icon: 'fa-paper-plane',
            color: 'cyan'
        }]);
        setCurrentSlide1(7);

        // ë‹¨ê³„ 8: Layer 3 ìˆ˜ì‹ 
        await new Promise(resolve => setTimeout(resolve, 2000));
        setSlides1(prev => [...prev, {
            step: 8,
            title: 'Layer 3 ìˆ˜ì‹  ë° ì¤€ë¹„',
            content: 'Representative ë…¸ë“œê°€ ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ê³  ê²€ì¦ ì¤€ë¹„',
            description: [
                'ğŸ“¥ Layer 3 Representative ë…¸ë“œì˜ ë™ì‘',
                '',
                'ìˆ˜ì‹  í”„ë¡œì„¸ìŠ¤:',
                '',
                '1ë‹¨ê³„: íŒ¨í‚· ìˆ˜ì‹ ',
                '   âœ“ Merkle Root ìˆ˜ì‹ ',
                '   âœ“ BLS ì§‘ê³„ ì„œëª… ìˆ˜ì‹ ',
                '   âœ“ ë©”íƒ€ë°ì´í„° í™•ì¸',
                '',
                '2ë‹¨ê³„: ë¬´ê²°ì„± í™•ì¸',
                '   âœ“ íŒ¨í‚· ì†ìƒ ì—¬ë¶€ ì²´í¬',
                '   âœ“ íƒ€ì„ìŠ¤íƒ¬í”„ ìœ íš¨ì„±',
                '   âœ“ Layer ID ì¼ì¹˜ ì—¬ë¶€',
                '',
                '3ë‹¨ê³„: ê³µê°œí‚¤ ì¤€ë¹„',
                '   âœ“ Layer 2ì˜ 100ê°œ ê³µê°œí‚¤ ë¡œë“œ',
                '   âœ“ ë…¸ë“œ ëª©ë¡ê³¼ ë§¤ì¹­',
                '   âœ“ ê³µê°œí‚¤ ì§‘ê³„ ì¤€ë¹„',
                '',
                '4ë‹¨ê³„: ê²€ì¦ ì¤€ë¹„ ì™„ë£Œ',
                '   âœ“ ëª¨ë“  ë°ì´í„° ì¤€ë¹„ë¨',
                '   âœ“ BLS ê²€ì¦ ì•Œê³ ë¦¬ì¦˜ ëŒ€ê¸°',
                '',
                'ì´ì œ ë‹¨ 1ë²ˆì˜ ê²€ì¦ìœ¼ë¡œ',
                '100ê°œ ë…¸ë“œ ì „ì²´ë¥¼ í™•ì¸í•  ê²ƒì…ë‹ˆë‹¤!',
                '',
                'Layer 3ì˜ ì—­í• :',
                'â€¢ í•˜ìœ„ ê³„ì¸µ(Layer 2) ê°ë…',
                'â€¢ ë°ì´í„° ë¬´ê²°ì„± ê²€ì¦',
                'â€¢ ì•…ì˜ì  ë…¸ë“œ íƒì§€',
                'â€¢ ìƒìœ„ ê³„ì¸µ(Layer 4)ë¡œ ë³´ê³ '
            ],
            data: [
                `âœ… ìˆ˜ì‹  ì™„ë£Œëœ ë°ì´í„°:`,
                '',
                `ğŸ“‹ Merkle Root:`,
                `   ${merkleRoot}`,
                `   â†‘ Layer 2ì˜ 100ê°œ ë…¸ë“œ ë°ì´í„° ìš”ì•½`,
                '',
                `âœï¸ BLS ì§‘ê³„ ì„œëª…:`,
                `   ${aggregatedSig}`,
                `   â†‘ 100ê°œ ë…¸ë“œì˜ ë™ì˜ ì¦ëª…`,
                '',
                `ğŸ“Š ë©”íƒ€ì •ë³´:`,
                `   â€¢ ë…¸ë“œ ê°œìˆ˜: 100ê°œ`,
                `   â€¢ ì„œëª… ì‹œê°: ${new Date().toLocaleString('ko-KR')}`,
                `   â€¢ Layer: 2 (ì‹œêµ°êµ¬ ê³„ì¸µ)`,
                '',
                `ğŸ”‘ ì¤€ë¹„ëœ ê³µê°œí‚¤:`,
                `   PKâ‚ = ${keyPairs[0].publicKey.substring(0, 32)}...`,
                `   PKâ‚‚ = ${keyPairs[1].publicKey.substring(0, 32)}...`,
                `   PKâ‚ƒ = ${keyPairs[2].publicKey.substring(0, 32)}...`,
                `   ...`,
                `   PKâ‚â‚€â‚€ = ${keyPairs[99].publicKey.substring(0, 32)}...`,
                '',
                `ğŸ¯ ê²€ì¦ ì¤€ë¹„ ìƒíƒœ: ì™„ë£Œ`,
                ``,
                `ë‹¤ìŒ ë‹¨ê³„ì—ì„œ í˜ì–´ë§ ì—°ì‚°ì„ í†µí•´`,
                `100ê°œ ë…¸ë“œë¥¼ ë‹¨ 1ë²ˆì— ê²€ì¦í•©ë‹ˆë‹¤!`
            ],
            icon: 'fa-check-circle',
            color: 'green'
        }]);
        setCurrentSlide1(8);

        // ë‹¨ê³„ 9: BLS ê²€ì¦
        await new Promise(resolve => setTimeout(resolve, 2000));
        setSlides1(prev => [...prev, {
            step: 9,
            title: 'BLS ì§‘ê³„ ì„œëª… ê²€ì¦',
            content: 'ë‹¨ 1ë²ˆì˜ í˜ì–´ë§ ì—°ì‚°ìœ¼ë¡œ 100ê°œ ë…¸ë“œ ë™ì˜ ê²€ì¦',
            description: [
                'ğŸ” BLS ê²€ì¦ì˜ ìˆ˜í•™ì  ì›ë¦¬',
                '',
                'ê²€ì¦ ê³¼ì •:',
                '',
                '1ë‹¨ê³„: ê³µê°œí‚¤ ì§‘ê³„',
                '   PK_agg = PKâ‚ + PKâ‚‚ + ... + PKâ‚â‚€â‚€',
                '   (íƒ€ì›ê³¡ì„  ìœ„ì˜ ì  ë§ì…ˆ)',
                '',
                '2ë‹¨ê³„: í˜ì–´ë§ ê²€ì¦',
                '   e(Ïƒ_agg, g) ?= e(H(M), PK_agg)',
                '',
                '   ì—¬ê¸°ì„œ:',
                '   â€¢ e( , ): í˜ì–´ë§ í•¨ìˆ˜',
                '   â€¢ Ïƒ_agg: ì§‘ê³„ ì„œëª…',
                '   â€¢ g: ìƒì„±ì› (generator)',
                '   â€¢ H(M): ë©”ì‹œì§€(Merkle Root)ì˜ í•´ì‹œ',
                '   â€¢ PK_agg: ì§‘ê³„ ê³µê°œí‚¤',
                '',
                'ìˆ˜í•™ì  ì¦ëª…:',
                '   ì¢Œë³€: e(H(M)^(SKâ‚+...+SKâ‚â‚€â‚€), g)',
                '   ìš°ë³€: e(H(M), g^(SKâ‚+...+SKâ‚â‚€â‚€))',
                '   í˜ì–´ë§ì˜ ìŒì„ í˜•ì„±ì— ì˜í•´ ì–‘ë³€ ë™ì¼!',
                '',
                'ê²°ê³¼ í•´ì„:',
                '   âœ… ê²€ì¦ ì„±ê³µ â†’',
                '      100ê°œ ë…¸ë“œ ëª¨ë‘ ì´ Merkle Rootì—',
                '      ìì‹ ì˜ ê°œì¸í‚¤ë¡œ ì„œëª…í–ˆìŒì„ ì¦ëª…',
                '',
                '   âŒ ê²€ì¦ ì‹¤íŒ¨ â†’',
                '      ì„œëª… ìœ„ì¡° ë˜ëŠ” ë°ì´í„° ë³€ì¡° íƒì§€',
                '',
                'í•µì‹¬ ì¥ì :',
                'â€¢ ì‹œê°„ ë³µì¡ë„: O(1) - ë…¸ë“œ ìˆ˜ì™€ ë¬´ê´€',
                'â€¢ ê³µê°„ ë³µì¡ë„: O(1) - ì„œëª… 1ê°œë§Œ',
                'â€¢ ê²€ì¦ íšŸìˆ˜: 1ë²ˆ (100ë²ˆ â†’ 1ë²ˆ)'
            ],
            data: [
                `ğŸ”¬ BLS ê²€ì¦ ì—°ì‚° ìƒì„¸:`,
                '',
                `Step 1: ê³µê°œí‚¤ ì§‘ê³„`,
                `  PK_agg = PKâ‚ + PKâ‚‚ + PKâ‚ƒ + ... + PKâ‚â‚€â‚€`,
                `         = ${sha256(keyPairs.map(k => k.publicKey).join('')).substring(0, 32)}...`,
                `  (íƒ€ì›ê³¡ì„  G1 ìœ„ì˜ ì  ë§ì…ˆ)`,
                '',
                `Step 2: ë©”ì‹œì§€ í•´ì‹±`,
                `  H(MerkleRoot) = ${sha256(merkleRoot).substring(0, 32)}...`,
                `  (í•´ì‹œë¥¼ íƒ€ì›ê³¡ì„  G2 ìœ„ì˜ ì ìœ¼ë¡œ ë§¤í•‘)`,
                '',
                `Step 3: í˜ì–´ë§ ì—°ì‚°`,
                `  ì¢Œë³€: e(Ïƒ_agg, g)`,
                `      = e(${aggregatedSig.substring(0, 24)}..., generator)`,
                '',
                `  ìš°ë³€: e(H(M), PK_agg)`,
                `      = e(${sha256(merkleRoot).substring(0, 24)}..., ${sha256(keyPairs.map(k => k.publicKey).join('')).substring(0, 24)}...)`,
                '',
                `Step 4: ë¹„êµ`,
                `  ì¢Œë³€ == ìš°ë³€ ?`,
                `  `,
                `  âœ… TRUE â†’ ê²€ì¦ ì„±ê³µ!`,
                '',
                `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`,
                ``,
                `ğŸ‰ ê²€ì¦ ê²°ê³¼: ì„±ê³µ!`,
                ``,
                `âœ“ 100ê°œ ë…¸ë“œ ëª¨ë‘ ì„œëª… í™•ì¸ë¨`,
                `âœ“ Merkle Root ë¬´ê²°ì„± ì…ì¦`,
                `âœ“ ë°ì´í„° ìœ„ì¡° ì—†ìŒ`,
                '',
                `âš¡ ì„±ëŠ¥ ì§€í‘œ:`,
                `  â€¢ ê²€ì¦ ì‹œê°„: ~0.01ì´ˆ (í˜ì–´ë§ 1íšŒ)`,
                `  â€¢ ë¹„êµ: ECDSA 100íšŒ ê²€ì¦ ì‹œ ~1ì´ˆ`,
                `  â€¢ ì„±ëŠ¥ í–¥ìƒ: 100ë°° ë¹ ë¦„!`
            ],
            highlight: '100ê°œ ì„œëª… â†’ 1ë²ˆ ê²€ì¦ ì„±ê³µ!',
            icon: 'fa-shield-alt',
            color: 'blue'
        }]);
        setCurrentSlide1(9);

        // ë‹¨ê³„ 10: ì™„ë£Œ
        await new Promise(resolve => setTimeout(resolve, 2000));
        setSlides1(prev => [...prev, {
            step: 10,
            title: 'ê³„ì¸µ ë¬´ê²°ì„± í™•ì¸ ì™„ë£Œ',
            content: 'Layer 3ê°€ Layer 2 ì „ì²´ì˜ ë¬´ê²°ì„±ì„ ì¸ì •',
            description: [
                'ğŸ† ê²€ì¦ ì™„ë£Œ ë° ì‹œìŠ¤í…œ íš¨ê³¼',
                '',
                'ë‹¬ì„±í•œ ê²ƒ:',
                '',
                'âœ… 100ê°œ ë…¸ë“œì˜ ëª¨ë“  íŠ¸ëœì­ì…˜ ê²€ì¦',
                'âœ… ê° ë…¸ë“œì˜ ë™ì˜ í™•ì¸',
                'âœ… ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥',
                'âœ… ìœ„ì¡°/ë³€ì¡° ë¶ˆê°€ëŠ¥ì„± ì…ì¦',
                '',
                'OpenHash ì‹œìŠ¤í…œì˜ ê³„ì¸µ êµ¬ì¡°:',
                '',
                'Layer 4 (êµ­ê°€)       â† ìµœì¢… ê²€ì¦',
                '    â†‘',
                'Layer 3 (ê´‘ì—­ì‹œë„)  â† ì§€ê¸ˆ ì—¬ê¸° (ê²€ì¦ ì™„ë£Œ)',
                '    â†‘',
                'Layer 2 (ì‹œêµ°êµ¬)    â† 100ê°œ ë…¸ë“œ ê²€ì¦ë¨',
                '    â†‘',
                'Layer 1 (ìë©´ë™)    â† ê°€ì¥ ë§ì€ ë…¸ë“œ',
                '',
                'ì´ ê²€ì¦ì´ ë°˜ë³µë˜ë©´:',
                'â€¢ Layer 2 â†’ Layer 3 (ì§€ê¸ˆ ì™„ë£Œ)',
                'â€¢ Layer 3 â†’ Layer 4',
                'â€¢ Layer 4 â†’ ìµœì¢… í™•ì •',
                '',
                'ê²°ê³¼:',
                'â€¢ ì „ì²´ ì‹œìŠ¤í…œì˜ ë¬´ê²°ì„± ë³´ì¥',
                'â€¢ ê° ê³„ì¸µì´ ë…ë¦½ì ìœ¼ë¡œ ê²€ì¦',
                'â€¢ ìƒìœ„ ê³„ì¸µì´ í•˜ìœ„ ê³„ì¸µ ê°ë…',
                'â€¢ íƒˆì¤‘ì•™í™” + íš¨ìœ¨ì„± ë™ì‹œ ë‹¬ì„±',
                '',
                'BLS + Merkle Treeì˜ ê°•ì :',
                'â€¢ í™•ì¥ì„±: ë…¸ë“œ ìˆ˜ì™€ ë¬´ê´€í•œ ì„±ëŠ¥',
                'â€¢ íš¨ìœ¨ì„±: ê·¹ì†Œ ë°ì´í„° ì „ì†¡',
                'â€¢ ë³´ì•ˆì„±: ì•”í˜¸í•™ì  ë³´ì¥',
                'â€¢ íˆ¬ëª…ì„±: ê²€ì¦ ê°€ëŠ¥ì„±'
            ],
            data: [
                `ğŸ“Š ìµœì¢… ì„±ê³¼ ìš”ì•½`,
                `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`,
                '',
                `âœ… ê²€ì¦ ì™„ë£Œ ë‚´ì—­:`,
                `  â€¢ ê²€ì¦ëœ ë…¸ë“œ: 100ê°œ`,
                `  â€¢ ê²€ì¦ëœ íŠ¸ëœì­ì…˜: ìˆ˜ë§Œ ê±´ (ë…¸ë“œë‹¹)`,
                `  â€¢ ê²€ì¦ ì‹œê°„: ~0.01ì´ˆ`,
                `  â€¢ ê²€ì¦ ë°©ì‹: BLS í˜ì–´ë§ (1íšŒ)`,
                '',
                `ğŸ“‰ íš¨ìœ¨ì„± ë¹„êµ (BLS vs ê¸°ì¡´):`,
                ``,
                `  í•­ëª©              ê¸°ì¡´(ECDSA)   BLS      ê°œì„ `,
                `  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`,
                `  ë°ì´í„° í¬ê¸°       7,000 B      80 B     87ë°°â†“`,
                `  ê²€ì¦ íšŸìˆ˜         100íšŒ        1íšŒ      100ë°°â†“`,
                `  ê²€ì¦ ì‹œê°„         ~1ì´ˆ         ~0.01ì´ˆ  100ë°°â†‘`,
                `  ë„¤íŠ¸ì›Œí¬ ë¶€í•˜     ë†’ìŒ         ê·¹ì†Œ     ëŒ€í­â†“`,
                `  í™•ì¥ì„±            O(n)         O(1)     ì™„ë²½`,
                '',
                `ğŸ¯ ë‹¬ì„± íš¨ê³¼:`,
                `  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`,
                `  âœ“ ëŒ€ì—­í­ ì ˆì•½: 87ë°°`,
                `  âœ“ ê²€ì¦ ì†ë„: 100ë°°`,
                `  âœ“ ì €ì¥ ê³µê°„: 100ë°° ì ˆì•½`,
                `  âœ“ í™•ì¥ì„±: ë¬´í•œëŒ€ (O(1))`,
                `  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`,
                '',
                `ğŸŒ ì‹œìŠ¤í…œ ìƒíƒœ:`,
                `  Layer 2 (100ê°œ ë…¸ë“œ): âœ… ê²€ì¦ ì™„ë£Œ`,
                `  Layer 3: âœ… ë¬´ê²°ì„± ì¸ì •`,
                `  ë‹¤ìŒ ë‹¨ê³„: Layer 3 â†’ Layer 4 ë³´ê³ `,
                '',
                `ì´ê²ƒì´ OpenHashê°€ ìˆ˜ë§Œ ê°œ ë…¸ë“œë¥¼`,
                `íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ë¹„ë°€ì…ë‹ˆë‹¤! ğŸš€`
            ],
            icon: 'fa-trophy',
            color: 'gold'
        }]);
        setCurrentSlide1(10);

        setIsRunning1(false);
    };

    const runMerkleProof = async () => {
        if (!slides1.length) {
            alert('ë¨¼ì € BLS ì§‘ê³„ ê²€ì¦ì„ ì‹¤í–‰í•˜ì„¸ìš”.');
            return;
        }

        setIsRunning2(true);
        setSlides2([]);
        setCurrentSlide2(0);

        const nodeHashes = [];
        for (let i = 1; i <= 100; i++) {
            nodeHashes.push(sha256('Node_2' + String(i).padStart(3, '0') + '_data'));
        }
        const merkleTree = buildMerkleTree(nodeHashes);
        const merkleRoot = merkleTree[merkleTree.length - 1][0];

        // ë‹¨ê³„ 10: íŠ¹ì • ë…¸ë“œ ê²€ì¦ ìš”ì²­
        await new Promise(resolve => setTimeout(resolve, 2000));
        setSlides2(prev => [...prev, {
            step: 10,
            title: 'íŠ¹ì • ë…¸ë“œ ê²€ì¦ ìš”ì²­',
            content: `Layer 3ê°€ Node_20${String(targetNode).padStart(2, '0')}ì˜ í¬í•¨ ì—¬ë¶€ ê²€ì¦ í•„ìš”`,
            description: [
                'ğŸ” ê°œë³„ ë…¸ë“œ ê²€ì¦ì´ í•„ìš”í•œ ì´ìœ ',
                '',
                'ìƒí™©:',
                'Layer 3ê°€ ì´ìƒ ì§•í›„ë¥¼ ê°ì§€í–ˆìŠµë‹ˆë‹¤.',
                `Node_20${String(targetNode).padStart(2, '0')}ê°€ ì˜ì‹¬ìŠ¤ëŸ¬ìš´ íŠ¸ëœì­ì…˜ì„ ì²˜ë¦¬í–ˆì„ ê°€ëŠ¥ì„±`,
                '',
                'ì§ˆë¬¸:',
                `"Node_20${String(targetNode).padStart(2, '0')}ê°€ ì •ë§ Layer 2ì— í¬í•¨ë˜ì–´ ìˆëŠ”ê°€?"`,
                `"ì´ ë…¸ë“œì˜ ë°ì´í„°ê°€ Merkle Rootì— ì‹¤ì œë¡œ ë°˜ì˜ë˜ì—ˆëŠ”ê°€?"`,
                '',
                'ì™œ ë‹¤ì‹œ ê²€ì¦í•˜ë‚˜?',
                'â€¢ BLS ê²€ì¦ì€ 100ê°œ ì „ì²´ë¥¼ í•œ ë²ˆì— í™•ì¸',
                'â€¢ ê°œë³„ ë…¸ë“œì˜ í¬í•¨ ì—¬ë¶€ëŠ” í™•ì¸ ëª»í•¨',
                'â€¢ íŠ¹ì • ë…¸ë“œë§Œ ì¬ê²€ì¦ í•„ìš”',
                '',
                'í•´ê²°ì±…: Merkle Proof',
                'â€¢ 100ê°œ ì „ì²´ë¥¼ ë‹¤ì‹œ ê²€ì¦í•˜ì§€ ì•ŠìŒ',
                'â€¢ logâ‚‚(100) = 7ê°œì˜ í•´ì‹œë§Œìœ¼ë¡œ ì¦ëª…',
                'â€¢ íš¨ìœ¨ì ì¸ ê°œë³„ ê²€ì¦',
                '',
                'Layer 3 â†’ Layer 2 ìš”ì²­:',
                `"Node_20${String(targetNode).padStart(2, '0')}ì˜ Merkle Proofë¥¼ ì œì¶œí•˜ë¼"`
            ],
            data: [
                `ğŸš¨ ê²€ì¦ ìš”ì²­ ìƒì„¸`,
                '',
                `ì˜ì‹¬ ë…¸ë“œ: Node_20${String(targetNode).padStart(2, '0')}`,
                `ì˜ì‹¬ ì‚¬ìœ : ë¹„ì •ìƒì ì¸ íŠ¸ëœì­ì…˜ íŒ¨í„´ ê°ì§€`,
                '',
                `ì§ˆë¬¸:`,
                `  "ì´ ë…¸ë“œê°€ ì‹¤ì œë¡œ Merkle Rootì— í¬í•¨ë˜ì–´ ìˆëŠ”ê°€?"`,
                '',
                `ê¸°ì¡´ ì •ë³´:`,
                `  â€¢ Merkle Root: ${merkleRoot.substring(0, 32)}...`,
                `  â€¢ ê²€ì¦ë¨: âœ… (BLSë¡œ 100ê°œ ì „ì²´ í™•ì¸)`,
                '',
                `í•„ìš”í•œ ê²ƒ:`,
                `  â€¢ Node_20${String(targetNode).padStart(2, '0')}ì˜ Merkle Path`,
                `  â€¢ Rootê¹Œì§€ì˜ ê²½ë¡œ ì¦ëª…`,
                '',
                `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`,
                '',
                `ğŸ“¨ Layer 3 â†’ Layer 2 ìš”ì²­:`,
                '',
                `{`,
                `  "request_type": "merkle_proof",`,
                `  "target_node": "Node_20${String(targetNode).padStart(2, '0')}",`,
                `  "merkle_root": "${merkleRoot.substring(0, 16)}...",`,
                `  "timestamp": ${Date.now()}`,
                `}`,
                '',
                `Layer 2ê°€ ì´ ìš”ì²­ì„ ë°›ê³ `,
                `Merkle Proofë¥¼ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤...`
            ],
            icon: 'fa-search',
            color: 'red'
        }]);
        setCurrentSlide2(1);

        // ë‹¨ê³„ 11: Merkle Proof ìƒì„±
        await new Promise(resolve => setTimeout(resolve, 2000));
        const proof = getMerkleProof(merkleTree, targetNode - 1);
        setSlides2(prev => [...prev, {
            step: 11,
            title: 'Merkle Proof ìƒì„±',
            content: `Node_20${String(targetNode).padStart(2, '0')}ì—ì„œ Rootê¹Œì§€ì˜ ìµœì†Œ ê²½ë¡œ ê³„ì‚°`,
            description: [
                'ğŸ›¤ï¸ Merkle Proof ìƒì„± ê³¼ì •',
                '',
                'Merkle Tree êµ¬ì¡° ë³µìŠµ:',
                '',
                '       [Root]           â† Level 7',
                '       /    \\',
                '     [A]    [B]         â† Level 6',
                '     / \\    / \\',
                '   [C][D] [E][F]        â† Level 5',
                '   ...ê³„ì†...',
                `   [N${targetNode}]...            â† Level 0 (ëª©í‘œ ë…¸ë“œ)`,
                '',
                'ìƒì„± ì•Œê³ ë¦¬ì¦˜:',
                '',
                '1. ëª©í‘œ ë…¸ë“œì—ì„œ ì‹œì‘',
                `   í˜„ì¬ ìœ„ì¹˜: Node_20${String(targetNode).padStart(2, '0')} (index ${targetNode - 1})`,
                '',
                '2. ê° ë ˆë²¨ì—ì„œ:',
                '   - í˜„ì¬ ë…¸ë“œì˜ í˜•ì œ(sibling)ë¥¼ ì°¾ìŒ',
                '   - í˜•ì œì˜ í•´ì‹œë¥¼ ê²½ë¡œì— ì¶”ê°€',
                '   - ì™¼ìª½ì¸ì§€ ì˜¤ë¥¸ìª½ì¸ì§€ ê¸°ë¡',
                '   - ë¶€ëª¨ ë…¸ë“œë¡œ ì´ë™',
                '',
                '3. Rootì— ë„ë‹¬í•  ë•Œê¹Œì§€ ë°˜ë³µ',
                '',
                'ì˜ˆì‹œ:',
                `   Level 0: Node_20${String(targetNode).padStart(2, '0')} (ì‹œì‘)`,
                `            í˜•ì œ: Node_20${targetNode % 2 === 1 ? String(targetNode - 1).padStart(2, '0') : String(targetNode + 1).padStart(2, '0')} â†’ ê²½ë¡œì— ì¶”ê°€`,
                '   Level 1: ë¶€ëª¨ë¡œ ì´ë™',
                '            í˜•ì œ ì°¾ê¸° â†’ ê²½ë¡œì— ì¶”ê°€',
                '   ...',
                '   Level 7: Root ë„ë‹¬ (ì™„ë£Œ)',
                '',
                'ê²°ê³¼:',
                `â€¢ ê²½ë¡œ ê¸¸ì´: ${proof.length}ê°œ í•´ì‹œ`,
                `â€¢ í•„ìš” ë°ì´í„°: ${proof.length} Ã— 32 bytes = ${proof.length * 32} bytes`,
                '',
                'ë¹„êµ:',
                'â€¢ ì „ì²´ ì¬ê²€ì¦: 100ê°œ í•´ì‹œ í•„ìš”',
                `â€¢ Merkle Proof: ${proof.length}ê°œ í•´ì‹œë§Œ í•„ìš”`,
                `â€¢ íš¨ìœ¨ì„±: ${Math.round(100 / proof.length)}ë°° ê°œì„ !`
            ],
            data: [
                `ğŸ”§ ìƒì„±ëœ Merkle Proof`,
                '',
                `ëª©í‘œ: Node_20${String(targetNode).padStart(2, '0')} (index ${targetNode - 1})`,
                `ì‹œì‘ í•´ì‹œ: ${nodeHashes[targetNode - 1]}`,
                '',
                `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`,
                `ê²½ë¡œ (Rootê¹Œì§€ ${proof.length}ê°œ í˜•ì œ ë…¸ë“œ):`,
                `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`,
                '',
                ...proof.map((p, i) => [
                    `Level ${i + 1}: ${p.position === 'left' ? 'â† ì™¼ìª½' : 'ì˜¤ë¥¸ìª½ â†’'}`,
                    `  í˜•ì œ í•´ì‹œ: ${p.hash}`,
                    `  ìœ„ì¹˜: ${p.position}`,
                    ''
                ]).flat(),
                `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`,
                '',
                `ğŸ“ Proof í¬ê¸°:`,
                `  â€¢ í•´ì‹œ ê°œìˆ˜: ${proof.length}ê°œ`,
                `  â€¢ ê° í•´ì‹œ: 32 bytes`,
                `  â€¢ ì´ í¬ê¸°: ${proof.length * 32} bytes`,
                '',
                `ğŸ’¡ ì´í•´í•˜ê¸°:`,
                `  ì´ ${proof.length}ê°œ í•´ì‹œë§Œ ìˆìœ¼ë©´`,
                `  Node_20${String(targetNode).padStart(2, '0')}ê°€ Merkle Treeì—`,
                `  í¬í•¨ë˜ì–´ ìˆìŒì„ ì¦ëª…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!`,
                '',
                `ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì´ ê²½ë¡œë¥¼ ë”°ë¼`,
                `ì‹¤ì œë¡œ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.`
            ],
            icon: 'fa-route',
            color: 'purple'
        }]);
        setCurrentSlide2(2);

        // ë‹¨ê³„ 12: Merkle Proof ê²€ì¦
        await new Promise(resolve => setTimeout(resolve, 2000));
        let current = nodeHashes[targetNode - 1];
        const steps = [
            {
                level: 'Start',
                desc: `Node_20${String(targetNode).padStart(2, '0')}ì˜ Hashë¡œ ì‹œì‘`,
                hash: current
            }
        ];
        
        proof.forEach((p, i) => {
            const prevHash = current;
            if (p.position === 'left') {
                current = sha256(p.hash + current);
                steps.push({
                    level: `Level ${i + 1}`,
                    desc: `í˜•ì œ(ì™¼ìª½) + í˜„ì¬ = ë¶€ëª¨`,
                    operation: `SHA256(${p.hash.substring(0, 16)}... + ${prevHash.substring(0, 16)}...)`,
                    hash: current
                });
            } else {
                current = sha256(current + p.hash);
                steps.push({
                    level: `Level ${i + 1}`,
                    desc: `í˜„ì¬ + í˜•ì œ(ì˜¤ë¥¸ìª½) = ë¶€ëª¨`,
                    operation: `SHA256(${prevHash.substring(0, 16)}... + ${p.hash.substring(0, 16)}...)`,
                    hash: current
                });
            }
        });
        
        const verified = current === merkleRoot;

        setSlides2(prev => [...prev, {
            step: 12,
            title: 'Merkle Proof ê²€ì¦',
            content: 'Layer 3ê°€ ê²½ë¡œë¥¼ ë”°ë¼ Rootê¹Œì§€ í•´ì‹±í•˜ì—¬ ê²€ì¦',
            description: [
                'âœ… Merkle Proof ê²€ì¦ ì•Œê³ ë¦¬ì¦˜',
                '',
                'ê²€ì¦ ê³¼ì •:',
                '',
                `1. Node_20${String(targetNode).padStart(2, '0')}ì˜ í•´ì‹œë¡œ ì‹œì‘`,
                '',
                '2. ê° ë ˆë²¨ë§ˆë‹¤:',
                '   - í˜•ì œ í•´ì‹œë¥¼ ê°€ì ¸ì˜´',
                '   - ìœ„ì¹˜(ì™¼ìª½/ì˜¤ë¥¸ìª½)ì— ë”°ë¼ ê²°í•©',
                '   - SHA-256ìœ¼ë¡œ í•´ì‹±í•˜ì—¬ ë¶€ëª¨ ê³„ì‚°',
                '   - ê³„ì‚°ëœ ë¶€ëª¨ë¡œ ë‹¤ì‹œ ì˜¬ë¼ê°',
                '',
                '3. Rootì— ë„ë‹¬',
                '',
                '4. ê³„ì‚°ëœ Rootì™€ ì‹¤ì œ Root ë¹„êµ',
                '   - ì¼ì¹˜ â†’ âœ… ë…¸ë“œ í¬í•¨ í™•ì¸',
                '   - ë¶ˆì¼ì¹˜ â†’ âŒ ìœ„ì¡° íƒì§€',
                '',
                'ìˆ˜í•™ì  ì›ë¦¬:',
                '',
                `ë§Œì•½ Node_20${String(targetNode).padStart(2, '0')}ì˜ ë°ì´í„°ê°€`,
                'ì¡°ê¸ˆì´ë¼ë„ ë³€ì¡°ë˜ì—ˆë‹¤ë©´:',
                'â†’ ì‹œì‘ í•´ì‹œê°€ ë‹¬ë¼ì§',
                'â†’ ëª¨ë“  ë¶€ëª¨ í•´ì‹œê°€ ë‹¬ë¼ì§',
                'â†’ ìµœì¢… Rootê°€ ë‹¬ë¼ì§',
                'â†’ ê²€ì¦ ì‹¤íŒ¨!',
                '',
                'ë³´ì•ˆì„±:',
                'â€¢ SHA-256ì˜ ì¼ë°©í–¥ì„±',
                'â€¢ ì¶©ëŒ ì €í•­ì„± (2^256 ì•ˆì „ì„±)',
                'â€¢ ìœ„ì¡° ë¶ˆê°€ëŠ¥',
                '',
                'íš¨ìœ¨ì„±:',
                `â€¢ ${proof.length}ë²ˆì˜ í•´ì‹±ë§Œ í•„ìš”`,
                'â€¢ 100ê°œ ì „ì²´ ì¬ê²€ì¦ ë¶ˆí•„ìš”',
                `â€¢ ì‹œê°„: O(log n) = O(${proof.length})`
            ],
            data: [
                `ğŸ”¬ ë‹¨ê³„ë³„ ê²€ì¦ ê³¼ì •`,
                '',
                ...steps.map(step => [
                    `${step.level}:`,
                    `  ${step.desc}`,
                    step.operation ? `  ì—°ì‚°: ${step.operation}` : '',
                    `  ê²°ê³¼: ${step.hash}`,
                    ''
                ]).flat(),
                `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`,
                '',
                `ğŸ¯ ìµœì¢… ë¹„êµ:`,
                '',
                `ê³„ì‚°ëœ Root:`,
                `  ${current}`,
                '',
                `ì‹¤ì œ Merkle Root:`,
                `  ${merkleRoot}`,
                '',
                `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`,
                '',
                verified 
                    ? `âœ… ì¼ì¹˜! ê²€ì¦ ì„±ê³µ!` 
                    : `âŒ ë¶ˆì¼ì¹˜! ìœ„ì¡° íƒì§€!`,
                '',
                verified 
                    ? [
                        `ğŸ“Š ê²€ì¦ ê²°ê³¼:`,
                        `  âœ“ Node_20${String(targetNode).padStart(2, '0')}ê°€ ì‹¤ì œë¡œ Layer 2ì— ì¡´ì¬í•¨`,
                        `  âœ“ ë°ì´í„° ë¬´ê²°ì„± í™•ì¸ë¨`,
                        `  âœ“ Merkle Rootì— ì •í™•íˆ ë°˜ì˜ë¨`,
                        '',
                        `âš¡ ì„±ëŠ¥ ì§€í‘œ:`,
                        `  â€¢ ê²€ì¦ í•´ì‹œ: ${proof.length}íšŒ`,
                        `  â€¢ ì „ì†¡ ë°ì´í„°: ${proof.length * 32} bytes`,
                        `  â€¢ ë¹„êµ: ì „ì²´ ì¬ê²€ì¦ ì‹œ 3,200 bytes`,
                        `  â€¢ íš¨ìœ¨ì„±: ${Math.round(3200 / (proof.length * 32))}ë°° ê°œì„ `
                    ].join('\n')
                    : [
                        `âš ï¸ ìœ„ì¡° íƒì§€!`,
                        `  â€¢ Node_20${String(targetNode).padStart(2, '0')}ì˜ ë°ì´í„°ê°€ ë³€ì¡°ë¨`,
                        `  â€¢ ë˜ëŠ” Merkle Proofê°€ ìœ„ì¡°ë¨`,
                        `  â€¢ ì¦‰ì‹œ ì¡°ì‚¬ í•„ìš”`,
                        '',
                        `ë³´ì•ˆ ì¡°ì¹˜:`,
                        `  1. Node_20${String(targetNode).padStart(2, '0')} ê²©ë¦¬`,
                        `  2. ê´€ë ¨ íŠ¸ëœì­ì…˜ ë¬´íš¨í™”`,
                        `  3. ë¸”ë™ë¦¬ìŠ¤íŠ¸ ë“±ë¡`
                    ].join('\n')
            ],
            highlight: verified ? 'âœ… ê²€ì¦ ì„±ê³µ!' : 'âŒ ìœ„ì¡° íƒì§€!',
            icon: verified ? 'fa-check-circle' : 'fa-times-circle',
            color: verified ? 'green' : 'red'
        }]);
        setCurrentSlide2(3);

        setIsRunning2(false);
    };

    return (
        <div>
            <style>{`
                @keyframes slideInRight {
                    from { opacity: 0; transform: translateX(50px); }
                    to { opacity: 1; transform: translateX(0); }
                }
                .slide-card {
                    animation: slideInRight 0.6s ease-out;
                }
                @keyframes pulse {
                    0%, 100% { transform: scale(1); }
                    50% { transform: scale(1.05); }
                }
                .pulse-highlight {
                    animation: pulse 1s ease-in-out infinite;
                }
            `}</style>

            <div className="mb-8">
                <h4 className="text-2xl font-bold text-gov-text mb-3">ê³„ì¸µ ê°„ ìƒí˜¸ ê²€ì¦ (BLS + Merkle Proof)</h4>
                <p className="text-gov-text-secondary leading-relaxed">
                    ìƒìœ„ ê³„ì¸µ(Layer 3)ì´ BLS ì„œëª…ê³¼ Merkle Proofë¥¼ ê²°í•©í•˜ì—¬ í•˜ìœ„ ê³„ì¸µ(Layer 2)ì˜ 100ê°œ ë…¸ë“œë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.
                    ì „ì²´ ê²€ì¦ì€ BLSë¡œ, ê°œë³„ ê²€ì¦ì€ Merkle Proofë¡œ ìˆ˜í–‰í•˜ì—¬ ìµœì ì˜ íš¨ìœ¨ì„±ì„ ë‹¬ì„±í•©ë‹ˆë‹¤.
                </p>
            </div>

            {/* ì„¹ì…˜ 1: BLS ì§‘ê³„ ê²€ì¦ */}
            <div className="mb-12">
                <div className="bg-gradient-to-r from-blue-50 to-indigo-100 border-2 border-blue-500 rounded-lg p-6 mb-6">
                    <h5 className="text-xl font-bold text-blue-900 mb-4 flex items-center">
                        <i className="fas fa-layer-group mr-3"></i>
                        Phase 1-2: ì „ì²´ ë¬´ê²°ì„± ê²€ì¦ (BLS ì§‘ê³„)
                    </h5>
                    <p className="text-sm text-blue-800 mb-4">
                        Layer 2ì˜ 100ê°œ ë…¸ë“œë¥¼ Merkle Treeë¡œ êµ¬ì„±í•˜ê³ , BLS ì§‘ê³„ ì„œëª…ìœ¼ë¡œ Layer 3ì— ì „ë‹¬í•©ë‹ˆë‹¤.
                    </p>
                    <button
                        onClick={runBLSVerification}
                        disabled={isRunning1}
                        className="w-full px-6 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-lg"
                    >
                        {isRunning1 ? `ì²˜ë¦¬ ì¤‘... (${currentSlide1}/10 ë‹¨ê³„)` : 'ğŸš€ BLS ì§‘ê³„ ê²€ì¦ ì‹œë®¬ë ˆì´ì…˜ ì‹œì‘'}
                    </button>
                </div>

                <div className="space-y-6">
                    {slides1.map((slide, idx) => (
                        <div key={idx} className={`slide-card bg-white border-2 border-${slide.color}-400 rounded-lg shadow-xl overflow-hidden`}>
                            <div className="bg-gradient-to-r from-${slide.color}-50 to-${slide.color}-100 px-6 py-4 border-b-2 border-${slide.color}-300">
                                <div className="flex items-center gap-4">
                                    <div className={`flex-shrink-0 w-16 h-16 bg-${slide.color}-500 rounded-full flex items-center justify-center shadow-lg`}>
                                        <i className={`fas ${slide.icon} text-3xl text-white`}></i>
                                    </div>
                                    <div className="flex-1">
                                        <div className="flex items-center gap-3 mb-1">
                                            <span className={`px-4 py-1 bg-${slide.color}-600 text-white rounded-full text-sm font-bold`}>
                                                ë‹¨ê³„ {slide.step}/10
                                            </span>
                                            <h6 className="text-xl font-bold text-gray-900">{slide.title}</h6>
                                        </div>
                                        <p className="text-gray-700 font-medium">{slide.content}</p>
                                    </div>
                                </div>
                            </div>
                            <div className="p-6">
                                {slide.description && (
                                    <div className="mb-4 p-4 bg-gray-50 rounded-lg border border-gray-200">
                                        <h6 className="font-bold text-gray-800 mb-2 flex items-center">
                                            <i className="fas fa-info-circle mr-2 text-blue-600"></i>
                                            ìƒì„¸ ì„¤ëª…
                                        </h6>
                                        <div className="text-sm text-gray-700 whitespace-pre-line">
                                            {slide.description.join('\n')}
                                        </div>
                                    </div>
                                )}
                                <div className="bg-gray-900 rounded-lg p-5 font-mono text-xs text-green-400">
                                    {slide.data.map((line, i) => (
                                        <div key={i} className={line === slide.highlight ? 'text-yellow-300 font-bold text-base pulse-highlight' : ''}>
                                            {line}
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    ))}
                </div>
            </div>

            {slides1.length >= 10 && <div className="border-t-4 border-gray-300 my-12"></div>}

            {/* ì„¹ì…˜ 2: Merkle Proof ê²€ì¦ */}
            {slides1.length >= 10 && (
                <div className="mb-12">
                    <div className="bg-gradient-to-r from-purple-50 to-pink-100 border-2 border-purple-500 rounded-lg p-6 mb-6">
                        <h5 className="text-xl font-bold text-purple-900 mb-4 flex items-center">
                            <i className="fas fa-search-plus mr-3"></i>
                            Phase 3: ê°œë³„ ë…¸ë“œ ê²€ì¦ (Merkle Proof)
                        </h5>
                        <p className="text-sm text-purple-800 mb-4">
                            íŠ¹ì • ë…¸ë“œê°€ ì˜ì‹¬ë˜ë©´ Merkle Proofë¡œ ê°œë³„ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. (O(log n) íš¨ìœ¨ì„±)
                        </p>
                        <div className="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <label className="block text-sm font-bold mb-2 text-purple-900">ê²€ì¦ ëŒ€ìƒ ë…¸ë“œ ë²ˆí˜¸ (1-100)</label>
                                <input
                                    type="number"
                                    min="1"
                                    max="100"
                                    value={targetNode}
                                    onChange={(e) => setTargetNode(parseInt(e.target.value) || 1)}
                                    className="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-lg font-bold"
                                />
                            </div>
                            <div className="flex items-end">
                                <button
                                    onClick={runMerkleProof}
                                    disabled={isRunning2 || !slides1.length}
                                    className="w-full px-6 py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700 disabled:opacity-50 text-lg"
                                >
                                    {isRunning2 ? `ê²€ì¦ ì¤‘... (${currentSlide2}/3)` : `ğŸ” Node_20${String(targetNode).padStart(2, '0')} ê²€ì¦ ì‹œì‘`}
                                </button>
                            </div>
                        </div>
                    </div>

                    <div className="space-y-6">
                        {slides2.map((slide, idx) => (
                            <div key={idx} className={`slide-card bg-white border-2 border-${slide.color}-400 rounded-lg shadow-xl overflow-hidden`}>
                                <div className="bg-gradient-to-r from-${slide.color}-50 to-${slide.color}-100 px-6 py-4 border-b-2 border-${slide.color}-300">
                                    <div className="flex items-center gap-4">
                                        <div className={`flex-shrink-0 w-16 h-16 bg-${slide.color}-500 rounded-full flex items-center justify-center shadow-lg`}>
                                            <i className={`fas ${slide.icon} text-3xl text-white`}></i>
                                        </div>
                                        <div className="flex-1">
                                            <div className="flex items-center gap-3 mb-1">
                                                <span className={`px-4 py-1 bg-${slide.color}-600 text-white rounded-full text-sm font-bold`}>
                                                    ë‹¨ê³„ {slide.step}/12
                                                </span>
                                                <h6 className="text-xl font-bold text-gray-900">{slide.title}</h6>
                                            </div>
                                            <p className="text-gray-700 font-medium">{slide.content}</p>
                                        </div>
                                    </div>
                                </div>
                                <div className="p-6">
                                    {slide.description && (
                                        <div className="mb-4 p-4 bg-gray-50 rounded-lg border border-gray-200">
                                            <h6 className="font-bold text-gray-800 mb-2 flex items-center">
                                                <i className="fas fa-info-circle mr-2 text-blue-600"></i>
                                                ìƒì„¸ ì„¤ëª…
                                            </h6>
                                            <div className="text-sm text-gray-700 whitespace-pre-line">
                                                {slide.description.join('\n')}
                                            </div>
                                        </div>
                                    )}
                                    <div className="bg-gray-900 rounded-lg p-5 font-mono text-xs text-green-400">
                                        {slide.data.map((line, i) => (
                                            <div key={i} className={line.includes(slide.highlight) ? 'text-yellow-300 font-bold text-lg pulse-highlight' : ''}>
                                                {line}
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            )}
        </div>
    );
};

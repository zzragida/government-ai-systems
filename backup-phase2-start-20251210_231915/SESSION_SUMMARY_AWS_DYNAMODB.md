# ì œì£¼íŠ¹ë³„ìì¹˜ë„ AI ì‹œìŠ¤í…œ - AWS DynamoDB ì—°ë™ ì™„ë£Œ

**ì‘ì—…ì¼ì‹œ:** 2025-12-10
**ì„¸ì…˜:** AWS DynamoDB ë°ì´í„° ì €ì¥ì†Œ êµ¬ì¶•

---

## ğŸ¯ ì™„ë£Œëœ ì‘ì—…

### 1. AWS DynamoDB í…Œì´ë¸” ìƒì„± âœ…
- **í…Œì´ë¸”ëª…:** jeju-pdv-data
- **ARN:** arn:aws:dynamodb:us-east-1:193452400412:table/jeju-pdv-data
- **ë¦¬ì „:** us-east-1
- **íŒŒí‹°ì…˜ í‚¤:** pdvId (String)
- **ë¹Œë§ ëª¨ë“œ:** PAY_PER_REQUEST (ì˜¨ë””ë§¨ë“œ)
- **í•­ëª© ìˆ˜:** 17ê°œ (ê°œì¸ 5ëª…, ë‹¨ì²´ 10ê°œ, í…ŒìŠ¤íŠ¸ 2ê°œ)

### 2. IAM ì‚¬ìš©ì ìƒì„± âœ…
- **ì‚¬ìš©ìëª…:** jeju-pdv-admin
- **ê¶Œí•œ:** AmazonDynamoDBFullAccess
- **ì•¡ì„¸ìŠ¤ í‚¤ ID:** AKIAS2CVJL4OA5IME7HP (âš ï¸ í…ŒìŠ¤íŠ¸ìš©)
- **ë¹„ë°€ ì•¡ì„¸ìŠ¤ í‚¤:** ì €ì¥ë¨ (.env íŒŒì¼)

### 3. Node.js API ì„œë²„ êµ¬ì¶• âœ…
- **í”„ë ˆì„ì›Œí¬:** Express.js
- **í¬íŠ¸:** 3001
- **ì—”ë“œí¬ì¸íŠ¸:** http://100.30.14.224:3001
- **íŒ¨í‚¤ì§€:**
  - express: 5.2.1
  - @aws-sdk/client-dynamodb: 3.948.0
  - @aws-sdk/lib-dynamodb: 3.948.0
  - cors: 2.8.5
  - dotenv: 17.2.3

### 4. API ì—”ë“œí¬ì¸íŠ¸ âœ…
```
GET    /health                          - í—¬ìŠ¤ ì²´í¬
GET    /api/pdv                         - ëª¨ë“  PDV ì¡°íšŒ
GET    /api/pdv/:pdvId                  - PDV IDë¡œ ì¡°íšŒ
GET    /api/pdv/phone/:phoneNumber      - ì „í™”ë²ˆí˜¸ë¡œ ì¡°íšŒ
POST   /api/pdv                         - PDV ìƒì„±/ì €ì¥
PUT    /api/pdv/:pdvId                  - PDV ì—…ë°ì´íŠ¸
DELETE /api/pdv/:pdvId                  - PDV ì‚­ì œ
```

### 5. í”„ë¡ íŠ¸ì—”ë“œ API ì—°ë™ âœ…
- **js/api-client.js:** API í†µì‹  í´ë¼ì´ì–¸íŠ¸
- **js/pdv-manager.js:** API ê¸°ë°˜ìœ¼ë¡œ ì¬ì‘ì„± (async/await)
- **js/auth.js:** async/await ì§€ì› ì¶”ê°€
- **í´ë°± ì‹œìŠ¤í…œ:** API ì‹¤íŒ¨ ì‹œ localStorage ìë™ ì‚¬ìš©

### 6. í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„± âœ…

**ê°œì¸ ì‚¬ìš©ì 5ëª…:**
1. ê¹€ë¯¼ì¤€ (064-111-1111) - ì„œë¥˜ 2ê°œ
2. ì´ì„œì—° (064-222-2222) - ì„œë¥˜ 3ê°œ
3. ë°•ì§€ìš° (064-333-3333) - ì„œë¥˜ 2ê°œ
4. ìµœí•˜ì€ (064-444-4444) - ì„œë¥˜ 3ê°œ
5. ì •ë„ìœ¤ (064-555-5555) - ì„œë¥˜ 2ê°œ

**ë‹¨ì²´ ì‚¬ìš©ì 10ê°œ:**
1. ì œì£¼ITì‚°ì—…(ì£¼) (064-700-1000) - ì£¼ì‹íšŒì‚¬
2. ê·¸ë¦°ì—ë„ˆì§€ìœ í•œíšŒì‚¬ (064-700-2000) - ìœ í•œíšŒì‚¬
3. ì œì£¼í™˜ê²½ë³´í˜¸í˜‘íšŒ (064-700-3000) - ë¹„ì˜ë¦¬ë‹¨ì²´
4. í•œë¼ì‚°ì¹´í˜ (064-700-4000) - ê°œì¸ì‚¬ì—…ì
5. ì œì£¼êµ­ì œí•™êµ (064-700-5000) - í•™êµë²•ì¸
6. ì œì£¼ë¬¸í™”ì˜ˆìˆ ì§„í¥íšŒ (064-700-6000) - ì‚¬ë‹¨ë²•ì¸
7. ì œì£¼ë†ì‚°ë¬¼ìƒì‚°ìí˜‘ë™ì¡°í•© (064-700-7000) - í˜‘ë™ì¡°í•©
8. ì œì£¼ë¯¸ë˜êµìœ¡ì¬ë‹¨ (064-700-8000) - ì¬ë‹¨ë²•ì¸
9. ì œì£¼ê±´ê°•ì˜ë£Œì¬ë‹¨ (064-700-9000) - ì˜ë£Œë²•ì¸
10. ì œì£¼ì‚¬íšŒì ê²½ì œì„¼í„° (064-700-0100) - ì‚¬íšŒì ê¸°ì—…

---

## ğŸ“ íŒŒì¼ êµ¬ì¡°
```
/var/www/government-ai-systems/jeju-do/
â”œâ”€â”€ server.js                    # API ì„œë²„ (Node.js + Express)
â”œâ”€â”€ .env                         # í™˜ê²½ ë³€ìˆ˜ (AWS ìê²© ì¦ëª…) âš ï¸
â”œâ”€â”€ .gitignore                   # Git ì œì™¸ ëª©ë¡ (.env í¬í•¨)
â”œâ”€â”€ package.json                 # Node.js í”„ë¡œì íŠ¸ ì„¤ì •
â”œâ”€â”€ node_modules/                # Node.js íŒ¨í‚¤ì§€
â”œâ”€â”€ server.log                   # ì„œë²„ ë¡œê·¸
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ api-client.js           # API í†µì‹  í´ë¼ì´ì–¸íŠ¸ (NEW)
â”‚   â”œâ”€â”€ pdv-manager.js          # API ê¸°ë°˜ PDV ê´€ë¦¬ (UPDATED)
â”‚   â”œâ”€â”€ auth.js                 # async/await ì§€ì› (UPDATED)
â”‚   â”œâ”€â”€ pdv-manager.js.backup.localStorage  # ë°±ì—…
â”‚   â””â”€â”€ auth.js.backup.sync     # ë°±ì—…
â”œâ”€â”€ index.html                   # ë©”ì¸ í˜ì´ì§€
â””â”€â”€ tabs/
    â””â”€â”€ mypage.html             # My Page
```

---

## ğŸ”„ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
```
[ë¸Œë¼ìš°ì €]
    â†•
[js/api-client.js]
    â†•
[Node.js API Server:3001]
    â†•
[AWS SDK]
    â†•
[DynamoDB: jeju-pdv-data]
```

**í´ë°± ì‹œìŠ¤í…œ:**
```
API ì„±ê³µ â†’ DynamoDB ì €ì¥ + localStorage ìºì‹œ
API ì‹¤íŒ¨ â†’ localStorage ì‚¬ìš© (ìë™ í´ë°±)
```

---

## ğŸš€ ì‚¬ìš© ë°©ë²•

### ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸
1. http://100.30.14.224/jeju-do/ ì ‘ì†
2. **Ctrl+Shift+R** ê°•ë ¥ ìƒˆë¡œê³ ì¹¨
3. F12 ì½˜ì†” í™•ì¸:
   - "APIClient ì´ˆê¸°í™”" ë©”ì‹œì§€
   - "PDVManager ì´ˆê¸°í™” (API ëª¨ë“œ)" ë©”ì‹œì§€

### ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
- **ê°œì¸:** 064-111-1111 ì…ë ¥ â†’ ê¹€ë¯¼ì¤€ ìë™ ë¡œê·¸ì¸
- **ë‹¨ì²´:** 064-700-1000 ì…ë ¥ â†’ ì œì£¼ITì‚°ì—… ìë™ ë¡œê·¸ì¸

### API í…ŒìŠ¤íŠ¸
```bash
# í—¬ìŠ¤ ì²´í¬
curl http://localhost:3001/health

# ëª¨ë“  PDV ì¡°íšŒ
curl http://localhost:3001/api/pdv

# íŠ¹ì • PDV ì¡°íšŒ
curl http://localhost:3001/api/pdv/PDV-TEST-456

# ì „í™”ë²ˆí˜¸ë¡œ ì¡°íšŒ
curl http://localhost:3001/api/pdv/phone/064-111-1111
```

### ì„œë²„ ê´€ë¦¬
```bash
# ì„œë²„ ë¡œê·¸ í™•ì¸
tail -f server.log

# ì„œë²„ ì¤‘ì§€
pkill -f 'node server.js'

# ì„œë²„ ì‹œì‘
cd /var/www/government-ai-systems/jeju-do
nohup npm start > server.log 2>&1 &

# ì„œë²„ ìƒíƒœ í™•ì¸
ps aux | grep "node server.js" | grep -v grep
sudo lsof -i :3001
```

---

## âœ… ì£¼ìš” ì¥ì 

1. **ë‹¤ì¤‘ ê¸°ê¸° ì§€ì›**
   - ëª¨ë“  ë¸Œë¼ìš°ì €/ê¸°ê¸°ì—ì„œ ë™ì¼í•œ ë°ì´í„° ì ‘ê·¼
   - Chrome, Firefox, Safari, Edge ëª¨ë‘ ì§€ì›
   - PC, ëª¨ë°”ì¼, íƒœë¸”ë¦¿ ëª¨ë‘ ì§€ì›

2. **ì‹¤ì‹œê°„ ë™ê¸°í™”**
   - ë°ì´í„° ë³€ê²½ ì‹œ ì¦‰ì‹œ DynamoDBì— ì €ì¥
   - ë‹¤ë¥¸ ì„¸ì…˜ì—ì„œ ì¦‰ì‹œ ë°˜ì˜

3. **í™•ì¥ ê°€ëŠ¥**
   - API ì„œë²„ ì¶”ê°€ ë°°í¬ ê°€ëŠ¥
   - DynamoDB ìë™ í™•ì¥
   - íŠ¸ë˜í”½ ì¦ê°€ ì‹œ ëŒ€ì‘ ê°€ëŠ¥

4. **ì•ˆì •ì„±**
   - API ì‹¤íŒ¨ ì‹œ localStorage ìë™ í´ë°±
   - AWS ì¸í”„ë¼ì˜ ë†’ì€ ê°€ìš©ì„±
   - 99.99% SLA ë³´ì¥

5. **ë¹„ìš© íš¨ìœ¨**
   - PAY_PER_REQUEST ëª¨ë“œ
   - ì‚¬ìš©í•œ ë§Œí¼ë§Œ ê³¼ê¸ˆ
   - ì´ˆê¸° ë¹„ìš© ì—†ìŒ

---

## âš ï¸ ë³´ì•ˆ ì£¼ì˜ì‚¬í•­

### ì¤‘ìš”: AWS ìê²© ì¦ëª… ë³´í˜¸
- âœ… `.env` íŒŒì¼ì— ìê²© ì¦ëª… ì €ì¥ë¨
- âœ… `.gitignore`ì— `.env` ì¶”ê°€ë¨
- âš ï¸ **ì ˆëŒ€ GitHubì— ì—…ë¡œë“œí•˜ì§€ ë§ˆì„¸ìš”**
- âš ï¸ í…ŒìŠ¤íŠ¸ ì™„ë£Œ í›„ ì•¡ì„¸ìŠ¤ í‚¤ ì‚­ì œ ê¶Œì¥

### í”„ë¡œë•ì…˜ ë°°í¬ ì‹œ
1. ìƒˆë¡œìš´ ì•¡ì„¸ìŠ¤ í‚¤ ìƒì„± (í˜„ì¬ í‚¤ ì‚­ì œ)
2. IAM ì—­í•  ì‚¬ìš© (EC2 Instance Profile)
3. HTTPS ì„¤ì • (SSL/TLS)
4. API ì†ë„ ì œí•œ (Rate Limiting)
5. ì‚¬ìš©ì ì¸ì¦/ì¸ê°€ (JWT)

---

## ğŸ”§ ë‹¤ìŒ ê°œì„  ì‚¬í•­

### ë³´ì•ˆ
- [ ] HTTPS ì„¤ì • (Let's Encrypt)
- [ ] JWT í† í° ê¸°ë°˜ ì¸ì¦
- [ ] API í‚¤ ê´€ë¦¬ ê°œì„ 
- [ ] í”„ë¡œë•ì…˜ìš© IAM ì—­í•  ì‚¬ìš©

### ê¸°ëŠ¥
- [ ] ì„œë¥˜ íŒŒì¼ ì—…ë¡œë“œ (AWS S3 ì—°ë™)
- [ ] ì‹¤ì‹œê°„ ì•Œë¦¼ (WebSocket)
- [ ] ì„œë¥˜ ê³µìœ  ê¶Œí•œ ê´€ë¦¬
- [ ] ì„œë¥˜ ë§Œë£Œì¼ ì•Œë¦¼

### ì„±ëŠ¥
- [ ] API ì‘ë‹µ ìºì‹±
- [ ] DynamoDB ì¿¼ë¦¬ ìµœì í™”
- [ ] CDN ì„¤ì • (CloudFront)

### ëª¨ë‹ˆí„°ë§
- [ ] CloudWatch ë¡œê·¸ ì—°ë™
- [ ] ì—ëŸ¬ ì¶”ì  (Sentry)
- [ ] ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ (New Relic)

---

## ğŸ“Š í˜„ì¬ ë°ì´í„°

### DynamoDB í†µê³„
- **ì´ PDV ìˆ˜:** 17ê°œ
- **ê°œì¸ ì‚¬ìš©ì:** 5ëª…
- **ë‹¨ì²´ ì‚¬ìš©ì:** 10ê°œ
- **í…ŒìŠ¤íŠ¸ ë°ì´í„°:** 2ê°œ
- **ì´ ì„œë¥˜ ìˆ˜:** ì•½ 30ê°œ

### API ì„œë²„ ìƒíƒœ
- **ìƒíƒœ:** ì‹¤í–‰ ì¤‘ âœ…
- **í¬íŠ¸:** 3001
- **í”„ë¡œì„¸ìŠ¤:** node server.js
- **ë¡œê·¸:** server.log

---

## ğŸ“ ë¬¸ì œ í•´ê²°

### API ì„œë²„ê°€ ì‘ë‹µí•˜ì§€ ì•ŠìŒ
```bash
# ì„œë²„ í”„ë¡œì„¸ìŠ¤ í™•ì¸
ps aux | grep node

# í¬íŠ¸ ì‚¬ìš© í™•ì¸
sudo lsof -i :3001

# ì„œë²„ ì¬ì‹œì‘
pkill -f 'node server.js'
cd /var/www/government-ai-systems/jeju-do
nohup npm start > server.log 2>&1 &
```

### ë¸Œë¼ìš°ì €ì—ì„œ API í˜¸ì¶œ ì‹¤íŒ¨
1. F12 ì½˜ì†”ì—ì„œ ì—ëŸ¬ í™•ì¸
2. CORS ì„¤ì • í™•ì¸ (server.js)
3. ë„¤íŠ¸ì›Œí¬ íƒ­ì—ì„œ ìš”ì²­/ì‘ë‹µ í™•ì¸
4. API ì„œë²„ ë¡œê·¸ í™•ì¸: `tail -f server.log`

### DynamoDB ì—°ê²° ì˜¤ë¥˜
```bash
# AWS CLI ì„¤ì • í™•ì¸
aws configure list

# DynamoDB í…Œì´ë¸” í™•ì¸
aws dynamodb describe-table --table-name jeju-pdv-data --region us-east-1

# ì—°ê²° í…ŒìŠ¤íŠ¸
curl http://localhost:3001/health
```

---

## ğŸ“š ì°¸ê³  ìë£Œ

### AWS ë¬¸ì„œ
- [DynamoDB ê°œë°œì ê°€ì´ë“œ](https://docs.aws.amazon.com/dynamodb/)
- [AWS SDK for JavaScript v3](https://docs.aws.amazon.com/AWSJavaScriptSDK/v3/latest/)
- [IAM ì‚¬ìš©ì ê°€ì´ë“œ](https://docs.aws.amazon.com/IAM/)

### Node.js ë¬¸ì„œ
- [Express.js ê³µì‹ ë¬¸ì„œ](https://expressjs.com/)
- [AWS SDK DynamoDB DocumentClient](https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/dynamodb-example-document-client.html)

---

## ğŸ‰ ì™„ë£Œ!

AWS DynamoDB ê¸°ë°˜ PDV ë°ì´í„° ì €ì¥ì†Œê°€ ì„±ê³µì ìœ¼ë¡œ êµ¬ì¶•ë˜ì—ˆìŠµë‹ˆë‹¤!

**ë‹¤ìŒ í…ŒìŠ¤íŠ¸:**
1. ë¸Œë¼ìš°ì €ì—ì„œ http://100.30.14.224/jeju-do/ ì ‘ì†
2. ê¸°ì¡´ ì‚¬ìš©ìë¡œ ë¡œê·¸ì¸ (064-111-1111)
3. My Pageì—ì„œ ì„œë¥˜ ì¶”ê°€/ì œê±° í…ŒìŠ¤íŠ¸
4. ë‹¤ë¥¸ ë¸Œë¼ìš°ì €/ê¸°ê¸°ì—ì„œ ë™ì¼ ê³„ì • ë¡œê·¸ì¸
5. ë°ì´í„°ê°€ ë™ê¸°í™”ë˜ëŠ”ì§€ í™•ì¸

**ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ë©´ ì–¸ì œë“ ì§€ ì•Œë ¤ì£¼ì„¸ìš”!**

---

*ìƒì„±ì¼: 2025-12-10*  
*ì‘ì„±ì: Claude (Anthropic)*  
*í”„ë¡œì íŠ¸: ì œì£¼íŠ¹ë³„ìì¹˜ë„ AI ì‹œìŠ¤í…œ*

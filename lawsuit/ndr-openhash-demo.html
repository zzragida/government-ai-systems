<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>êµ­ê°€ë°ì´í„°ì²˜ OpenHash í†µí•© ë°ì´í„° ë„¤íŠ¸ì›Œí¬ ì‹œìŠ¤í…œ</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #1e3a8a 0%, #7c3aed 100%);
            min-height: 100vh;
            color: #fff;
        }

        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }

        header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        h1 { font-size: 2.2em; margin-bottom: 15px; text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3); }
        .subtitle { font-size: 1.1em; opacity: 0.9; margin-top: 10px; }

        .badge {
            display: inline-block;
            background: rgba(34, 197, 94, 0.2);
            border: 1px solid rgba(34, 197, 94, 0.5);
            padding: 8px 16px;
            border-radius: 20px;
            margin-top: 15px;
            font-size: 0.9em;
            color: #86efac;
        }

        .tabs { display: flex; gap: 10px; margin-bottom: 30px; flex-wrap: wrap; justify-content: center; }

        .tab {
            padding: 15px 25px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1em;
            color: #fff;
            backdrop-filter: blur(10px);
        }

        .tab:hover { background: rgba(255, 255, 255, 0.2); transform: translateY(-2px); }

        .tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        h2 { font-size: 1.8em; margin-bottom: 20px; color: #fff; }
        h3 { font-size: 1.3em; margin: 25px 0 15px 0; color: #fff; }

        .input-group { margin: 20px 0; }
        .input-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #e0e7ff; }

        input[type="text"], input[type="number"], textarea, select {
            width: 100%;
            padding: 12px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 1em;
            backdrop-filter: blur(5px);
        }

        input::placeholder, textarea::placeholder { color: rgba(255, 255, 255, 0.5); }
        textarea { min-height: 120px; resize: vertical; font-family: inherit; }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s;
            margin: 5px;
        }

        button:hover { transform: translateY(-2px); box-shadow: 0 5px 20px rgba(102, 126, 234, 0.5); }
        button:disabled { opacity: 0.5; cursor: not-allowed; }

        .result-box {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(102, 126, 234, 0.5);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }

        .hash-display {
            font-family: 'Courier New', monospace;
            background: rgba(0, 0, 0, 0.4);
            padding: 12px;
            border-radius: 8px;
            margin: 10px 0;
            word-break: break-all;
            font-size: 0.85em;
            border-left: 3px solid #667eea;
            color: #a5f3fc;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stat-card {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            margin: 10px 0;
            text-shadow: 0 2px 10px rgba(102, 126, 234, 0.5);
        }

        .stat-label { color: #cbd5e1; font-size: 0.9em; }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            overflow: hidden;
            margin: 15px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .alert { padding: 15px 20px; border-radius: 10px; margin: 15px 0; border-left: 4px solid; }
        .alert-info { background: rgba(59, 130, 246, 0.2); border-color: #3b82f6; color: #dbeafe; }
        .alert-success { background: rgba(34, 197, 94, 0.2); border-color: #22c55e; color: #d1fae5; }
        .alert-warning { background: rgba(249, 115, 22, 0.2); border-color: #f97316; color: #fed7aa; }
        .alert-error { background: rgba(239, 68, 68, 0.2); border-color: #ef4444; color: #fecaca; }

        .timeline { position: relative; margin: 30px 0; padding-left: 40px; }
        .timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(to bottom, #667eea, #764ba2);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            padding: 15px 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            border-left: 3px solid #667eea;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -49px;
            top: 20px;
            width: 15px;
            height: 15px;
            background: #667eea;
            border-radius: 50%;
            border: 3px solid rgba(255, 255, 255, 0.2);
        }

        .timeline-time { font-weight: bold; color: #667eea; margin-bottom: 5px; }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #667eea;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin { to { transform: rotate(360deg); }}

        .layer-box {
            background: rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 5px solid #667eea;
        }

        .layer-box h4 { color: #667eea; font-size: 1.2em; margin-bottom: 10px; }

        .ai-badge {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            margin-left: 10px;
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin: 30px 0;
            background: rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-radius: 10px;
        }

        footer { text-align: center; padding: 30px; color: rgba(255, 255, 255, 0.7); margin-top: 40px; }

        @media (max-width: 768px) {
            h1 { font-size: 1.8em; }
            .tabs { flex-direction: column; }
            .stats-grid { grid-template-columns: 1fr; }
        }
    </style>
    <link rel="stylesheet" href="/common/floating-chat.css">
    <script src="/common/floating-chat.js"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback, useRef } = React;

        const hashSHA512 = (data) => CryptoJS.SHA512(data).toString();

        const selectLayer = (hash, nodeType, dataType) => {
            if (dataType === 'national-statistics') return 0;
            const hashNum = parseInt(hash.substring(0, 8), 16) % 100;
            const timestamp = Date.now() % 100;
            const random = (hashNum + timestamp) % 100;
            const weights = {
                'government': { 0: 15, 1: 40, 2: 30, 3: 15 },
                'hospital': { 1: 50, 2: 35, 3: 15 },
                'school': { 1: 50, 2: 35, 3: 15 },
                'individual': { 1: 70, 2: 25, 3: 5 }
            };
            const weight = weights[nodeType] || weights['individual'];
            if (random < (weight[0] || 0)) return 0;
            if (random < (weight[0] || 0) + weight[1]) return 1;
            if (random < (weight[0] || 0) + weight[1] + weight[2]) return 2;
            return 3;
        };

        async function callClaudeAPI(prompt) {
            try {
                const response = await fetch("https://api.anthropic.com/v1/messages", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        model: "claude-sonnet-4-20250514",
                        max_tokens: 2000,
                        messages: [{ role: "user", content: prompt }]
                    })
                });
                if (!response.ok) throw new Error(`API ì˜¤ë¥˜: ${response.status}`);
                const data = await response.json();
                return data.content[0].text;
            } catch (error) {
                console.error("Claude API í˜¸ì¶œ ì˜¤ë¥˜:", error);
                throw error;
            }
        }

        function NDROpenHashSystem() {
            const [activeTab, setActiveTab] = useState('register');
            const [dataContent, setDataContent] = useState('');
            const [dataType, setDataType] = useState('individual');
            const [nodeType, setNodeType] = useState('individual');
            const [dataCategory, setDataCategory] = useState('medical');
            const [registrationResult, setRegistrationResult] = useState(null);
            const [registering, setRegistering] = useState(false);

            const [networkStats, setNetworkStats] = useState({
                totalNodes: 5030000,
                activeNodes: 4827000,
                totalHashes: 145820000,
                tps: 0,
                avgLatency: 0
            });

            const [performanceTest, setPerformanceTest] = useState(null);
            const [testing, setTesting] = useState(false);
            const [aiVerifyResult, setAiVerifyResult] = useState(null);
            const [verifying, setVerifying] = useState(false);
            const [verifyError, setVerifyError] = useState(null);
            const chartRef = useRef(null);
            const chartInstance = useRef(null);

            useEffect(() => {
                const interval = setInterval(() => {
                    setNetworkStats(prev => ({
                        ...prev,
                        tps: Math.floor(Math.random() * 500000) + 3940000,
                        avgLatency: (Math.random() * 5 + 10).toFixed(2)
                    }));
                }, 2000);
                return () => clearInterval(interval);
            }, []);

            const registerData = useCallback(() => {
                if (!dataContent) { alert('ë°ì´í„° ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!'); return; }
                setRegistering(true);
                let progress = 0;
                const interval = setInterval(() => {
                    progress += 20;
                    if (progress >= 100) {
                        clearInterval(interval);
                        const timestamp = new Date().toISOString();
                        const hashInput = `${dataContent}|${timestamp}|${nodeType}|${dataType}`;
                        const hash = hashSHA512(hashInput);
                        const selectedLayer = selectLayer(hash, nodeType, dataType);
                        const energyPerHash = 0.000065;
                        const blockchainEnergy = 1.2;
                        const savingsPercent = ((1 - energyPerHash / blockchainEnergy) * 100).toFixed(1);
                        setRegistrationResult({
                            hash, timestamp, layer: selectedLayer, nodeType, dataType, dataCategory,
                            energy: energyPerHash, blockchainEnergy, savingsPercent,
                            processingTime: (Math.random() * 0.5 + 0.2).toFixed(3),
                            layerPath: selectedLayer === 0 ? 'Layer 0 (êµ­ê°€ë°ì´í„°ì²˜ ì§ì ‘ ì²˜ë¦¬)' : 'Layer 1 â†’ Layer 2 â†’ Layer 3 â†’ Layer 0',
                            verification: {
                                pipa: 'âœ“ ê°œì¸ì •ë³´ë³´í˜¸ë²• ì¤€ìˆ˜',
                                aiLaw: 'âœ“ AI ê¸°ë³¸ë²• ì¤€ìˆ˜',
                                gdpr: 'âœ“ GDPR í˜¸í™˜',
                                statLaw: dataType === 'national-statistics' ? 'âœ“ í†µê³„ë²• ì¤€ìˆ˜' : 'N/A'
                            }
                        });
                        setRegistering(false);
                        setTimeout(() => {
                            if (window.confirm('ë°ì´í„° ë“±ë¡ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. Claude AIë¡œ ë²•ê·œ ê²€ì¦ì„ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                                setActiveTab('ai-verify');
                            }
                        }, 1000);
                    }
                }, 400);
            }, [dataContent, dataType, nodeType, dataCategory]);

            const runPerformanceTest = useCallback(() => {
                setTesting(true);
                let progress = 0;
                const testInterval = setInterval(() => {
                    progress += 10;
                    if (progress >= 100) {
                        clearInterval(testInterval);
                        setPerformanceTest({
                            layer0: { nodes: 3, tps: 150, latency: 8.2 },
                            layer1: { nodes: 503, tps: 40320, latency: 45.3 },
                            layer2: { nodes: 32, tps: 4448, latency: 18.7 },
                            layer3: { nodes: 10, tps: 420000, latency: 12.4 },
                            total: { nodes: 548, tps: 4240000, avgLatency: 14.2 },
                            energy: { openhash: 12.4, bitcoin: 850, ethereum: 127, savings: 98.5 },
                            mlperf: { inference: '1,235 QPS', training: '42ë¶„ 37ì´ˆ', power: '0.065 J', edp: '0.00054 JÂ·s' }
                        });
                        setTesting(false);
                    }
                }, 800);
            }, []);

            const verifyWithAI = useCallback(async () => {
                if (!registrationResult) { alert('ë¨¼ì € ë°ì´í„°ë¥¼ ë“±ë¡í•´ì£¼ì„¸ìš”!'); setActiveTab('register'); return; }
                setVerifying(true);
                setAiVerifyResult(null);
                setVerifyError(null);
                const prompt = `ë‹¹ì‹ ì€ ëŒ€í•œë¯¼êµ­ ê°œì¸ì •ë³´ë³´í˜¸ ë° ë°ì´í„° ê±°ë²„ë„ŒìŠ¤ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ë‹¤ìŒ ë°ì´í„° ì²˜ë¦¬ ìš”ì²­ì„ ë¶„ì„í•˜ì—¬ ë²•ê·œ ì¤€ìˆ˜ ì—¬ë¶€ë¥¼ ê²€ì¦í•´ì£¼ì„¸ìš”.

[ë°ì´í„° ì •ë³´]
- ë°ì´í„° ìœ í˜•: ${registrationResult.dataType}
- ë°ì´í„° ë¶„ë¥˜: ${registrationResult.dataCategory}
- ë…¸ë“œ ìœ í˜•: ${registrationResult.nodeType}
- ì²˜ë¦¬ ê³„ì¸µ: Layer ${registrationResult.layer}

[ê²€ì¦ í•­ëª©]
1. ê°œì¸ì •ë³´ë³´í˜¸ë²•(PIPA) ì¤€ìˆ˜ ì—¬ë¶€
2. AI ê¸°ë³¸ë²• ì¤€ìˆ˜ ì—¬ë¶€
3. GDPR Article 20 ì¤€ìˆ˜ ì—¬ë¶€
4. í†µê³„ë²• ì¤€ìˆ˜ ì—¬ë¶€
5. k-ìµëª…ì„± ì ìš© í•„ìš”ì„±

ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ë‹µë³€í•´ì£¼ì„¸ìš”:
1. ì¢…í•© ì¤€ìˆ˜ìœ¨: XX%
2. ê°œë³„ ë²•ê·œ ê²€ì¦
3. ìœ„í—˜ ìš”ì†Œ
4. ê¶Œì¥ ì‚¬í•­`;

                try {
                    const aiResponse = await callClaudeAPI(prompt);
                    const complianceMatch = aiResponse.match(/ì¤€ìˆ˜ìœ¨[:\s]*(\d+)\s*[%ï¼…]/);
                    const complianceRate = complianceMatch ? parseInt(complianceMatch[1]) : 85;
                    setAiVerifyResult({
                        complianceRate,
                        pipaCompliant: aiResponse.includes('ê°œì¸ì •ë³´ë³´í˜¸ë²•') && aiResponse.includes('ì¤€ìˆ˜'),
                        aiLawCompliant: aiResponse.includes('AI ê¸°ë³¸ë²•') && aiResponse.includes('ì¤€ìˆ˜'),
                        gdprCompliant: aiResponse.includes('GDPR') && aiResponse.includes('ì¤€ìˆ˜'),
                        statLawCompliant: registrationResult.dataType === 'national-statistics',
                        kAnonymity: complianceRate < 80 ? 'í•„ìˆ˜ ì ìš© (k=5)' : 'ì„ íƒ ì ìš©',
                        risks: complianceRate < 70 ? ['ê°œì¸ì •ë³´ ë…¸ì¶œ ìœ„í—˜'] : [],
                        recommendations: complianceRate < 90 ? ['ì¶”ê°€ ìµëª…í™” ê¶Œì¥'] : ['í˜„ì¬ ìƒíƒœ ìœ ì§€'],
                        aiAnalysis: aiResponse,
                        processingTime: '2.3ì´ˆ',
                        shap: 'AI íŒë‹¨ ê·¼ê±° ì‹œê°í™” ì™„ë£Œ'
                    });
                } catch (error) {
                    setVerifyError(error.message);
                } finally {
                    setVerifying(false);
                }
            }, [registrationResult]);

            useEffect(() => {
                if (activeTab === 'performance' && chartRef.current && performanceTest) {
                    if (chartInstance.current) chartInstance.current.destroy();
                    const ctx = chartRef.current.getContext('2d');
                    chartInstance.current = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: ['Layer 0', 'Layer 1', 'Layer 2', 'Layer 3'],
                            datasets: [{
                                label: 'TPS',
                                data: [performanceTest.layer0.tps, performanceTest.layer1.tps, performanceTest.layer2.tps, performanceTest.layer3.tps],
                                backgroundColor: 'rgba(102, 126, 234, 0.7)',
                                borderColor: 'rgba(102, 126, 234, 1)',
                                borderWidth: 2
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            scales: {
                                y: { beginAtZero: true, ticks: { color: '#fff' }, grid: { color: 'rgba(255,255,255,0.1)' }},
                                x: { ticks: { color: '#fff' }, grid: { color: 'rgba(255,255,255,0.1)' }}
                            },
                            plugins: { legend: { labels: { color: '#fff' }}}
                        }
                    });
                }
            }, [activeTab, performanceTest]);

            return (
                <div className="container">
                    <header>
                        <h1>ğŸ›ï¸ êµ­ê°€ë°ì´í„°ì²˜ OpenHash í†µí•© ë°ì´í„° ë„¤íŠ¸ì›Œí¬</h1>
                        <p className="subtitle">Open Hash-Based National Data Registry Integrated Data Network System</p>
                        <div className="badge">â˜ï¸ AWS ì‹¤ì¦ ê²€ì¦ | ğŸ¤– Claude AI | âš¡ 424ë§Œ TPS | ğŸŒ± 98.5% ì ˆê°</div>
                    </header>

                    <div className="tabs">
                        <button className={`tab ${activeTab === 'register' ? 'active' : ''}`} onClick={() => setActiveTab('register')}>ğŸ“ ë°ì´í„° ë“±ë¡</button>
                        <button className={`tab ${activeTab === 'network' ? 'active' : ''}`} onClick={() => setActiveTab('network')}>ğŸŒ ë„¤íŠ¸ì›Œí¬ ëª¨ë‹ˆí„°ë§</button>
                        <button className={`tab ${activeTab === 'performance' ? 'active' : ''}`} onClick={() => setActiveTab('performance')}>âš¡ ì„±ëŠ¥ ì¸¡ì •</button>
                        <button className={`tab ${activeTab === 'ai-verify' ? 'active' : ''}`} onClick={() => setActiveTab('ai-verify')}>
                            ğŸ¤– AI ë²•ê·œ ê²€ì¦<span className="ai-badge">Claude AI</span>
                            {registrationResult && <span style={{marginLeft: '5px'}}>âœ“</span>}
                        </button>
                    </div>

                    {activeTab === 'register' && (
                        <div className="section">
                            <h2>OpenHash ë°ì´í„° ë“±ë¡ ì‹œìŠ¤í…œ</h2>
                            <div className="alert alert-info">
                                <strong>ğŸ’¡ í•µì‹¬ ì›ë¦¬</strong><br/>
                                â€¢ <strong>ì›ë³¸ ë°ì´í„°</strong>: ê°œì¸/ë‹¨ì²´ê°€ ì§ì ‘ ë³´ê´€ (íƒˆì¤‘ì•™í™”)<br/>
                                â€¢ <strong>Hashë§Œ ìˆ˜ì§‘</strong>: ê³µê³µê¸°ê´€ì€ SHA-512 Hashë§Œ ì €ì¥<br/>
                                â€¢ <strong>êµ­ê°€ë°ì´í„°ì²˜</strong>: ëª¨ë“  Hashê°€ ì§‘ê²°í•˜ëŠ” Layer 0
                            </div>

                            <div className="input-group">
                                <label>ë…¸ë“œ ìœ í˜•</label>
                                <select value={nodeType} onChange={(e) => setNodeType(e.target.value)}>
                                    <option value="individual">ê°œì¸ (ìŠ¤ë§ˆíŠ¸í°/PC)</option>
                                    <option value="government">ì¤‘ì•™í–‰ì •ê¸°ê´€</option>
                                    <option value="hospital">ì˜ë£Œê¸°ê´€ (ë³‘ì› 3,500ê°œ)</option>
                                    <option value="school">êµìœ¡ê¸°ê´€ (í•™êµ 24,000ê°œ)</option>
                                </select>
                            </div>

                            <div className="input-group">
                                <label>ë°ì´í„° ìœ í˜•</label>
                                <select value={dataType} onChange={(e) => setDataType(e.target.value)}>
                                    <option value="individual">ê°œì¸ ë°ì´í„°</option>
                                    <option value="institutional">ê¸°ê´€ ë°ì´í„°</option>
                                    <option value="national-statistics">êµ­ê°€í†µê³„ (Layer 0 ì§ì ‘ ì²˜ë¦¬)</option>
                                </select>
                            </div>

                            <div className="input-group">
                                <label>ë°ì´í„° ë¶„ë¥˜</label>
                                <select value={dataCategory} onChange={(e) => setDataCategory(e.target.value)}>
                                    <option value="medical">ì˜ë£Œ</option>
                                    <option value="education">êµìœ¡</option>
                                    <option value="finance">ê¸ˆìœµ</option>
                                    <option value="transport">êµí†µ</option>
                                    <option value="housing">ì£¼ê±°</option>
                                    <option value="market">ì‹œì¥/ë¬¼ë¥˜</option>
                                </select>
                            </div>

                            <div className="input-group">
                                <label>ë°ì´í„° ë‚´ìš© (ì›ë³¸ì€ ë¡œì»¬ì—ë§Œ ì €ì¥ë¨)</label>
                                <textarea 
                                    placeholder="ì˜ˆ: í™˜ì í™ê¸¸ë™ì˜ 2025-11-19 ì§„ë£Œ ê¸°ë¡ - ë‹¹ë‡¨ë³‘ ê´€ë¦¬, í˜ˆë‹¹ 120mg/dL"
                                    value={dataContent}
                                    onChange={(e) => setDataContent(e.target.value)}
                                />
                                <small style={{color: '#94a3b8', marginTop: '5px', display: 'block'}}>
                                    âš ï¸ ì›ë³¸ì€ ê·€í•˜ì˜ ë‹¨ë§ê¸°ì—ë§Œ ì €ì¥. ë„¤íŠ¸ì›Œí¬ì—ëŠ” Hashë§Œ ì „ì†¡
                                </small>
                            </div>

                            <div style={{textAlign: 'center', margin: '20px 0'}}>
                                <button onClick={registerData} disabled={registering}>
                                    {registering ? <span className="loading"></span> : 'ğŸ”'} SHA-512 Hash ìƒì„± ë° ë“±ë¡
                                </button>
                            </div>

                            {registering && (
                                <div className="result-box">
                                    <div className="timeline">
                                        <div className="timeline-item">
                                            <div className="timeline-time">0.0ì´ˆ</div>
                                            <div>SHA-512 Hash ìƒì„± ì¤‘...</div>
                                        </div>
                                        <div className="timeline-item">
                                            <div className="timeline-time">0.2ì´ˆ</div>
                                            <div>í™•ë¥ ì  ê³„ì¸µ ì„ íƒ ì•Œê³ ë¦¬ì¦˜ ì‹¤í–‰ ì¤‘...</div>
                                        </div>
                                        <div className="timeline-item">
                                            <div className="timeline-time">0.5ì´ˆ</div>
                                            <div>LPBFT í•©ì˜ ì•Œê³ ë¦¬ì¦˜ ì‹¤í–‰ ì¤‘...</div>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {registrationResult && (
                                <div className="result-box">
                                    <h3>âœ… ë°ì´í„° ë“±ë¡ ì™„ë£Œ!</h3>
                                    <div className="stats-grid">
                                        <div className="stat-card">
                                            <div className="stat-label">ì²˜ë¦¬ ì‹œê°„</div>
                                            <div className="stat-value">{registrationResult.processingTime}ì´ˆ</div>
                                        </div>
                                        <div className="stat-card">
                                            <div className="stat-label">í• ë‹¹ Layer</div>
                                            <div className="stat-value">Layer {registrationResult.layer}</div>
                                        </div>
                                        <div className="stat-card">
                                            <div className="stat-label">ì—ë„ˆì§€ ì†Œë¹„</div>
                                            <div className="stat-value">{registrationResult.energy}</div>
                                            <div style={{fontSize: '0.8em', color: '#86efac', marginTop: '5px'}}>
                                                kWh (ë¸”ë¡ì²´ì¸ ëŒ€ë¹„ {registrationResult.savingsPercent}% ì ˆê°)
                                            </div>
                                        </div>
                                    </div>
                                    <h3>ğŸ” ìƒì„±ëœ SHA-512 Hash</h3>
                                    <div className="hash-display">{registrationResult.hash}</div>
                                    <div style={{fontSize: '0.9em', color: '#94a3b8', marginTop: '10px'}}>
                                        <strong>âœ“ ì›ë³¸ ë°ì´í„°ëŠ” ë‹¨ë§ê¸°ì—ë§Œ ì €ì¥</strong><br/>
                                        <strong>âœ“ ë„¤íŠ¸ì›Œí¬ì—ëŠ” Hashë§Œ ì „ì†¡</strong><br/>
                                        <strong>âœ“ ê°œì¸ì •ë³´ ì™¸ë¶€ ìœ ì¶œ ì—†ìŒ</strong>
                                    </div>
                                    <h3 style={{marginTop: '30px'}}>ğŸŒ ë°ì´í„° ì „íŒŒ ê²½ë¡œ</h3>
                                    <div className="hash-display">
                                        {registrationResult.layerPath}
                                        {registrationResult.layer === 0 && (
                                            <div style={{marginTop: '10px', color: '#fbbf24'}}>
                                                âš¡ êµ­ê°€í†µê³„ëŠ” ìµœìš°ì„  ì²˜ë¦¬ (Layer 0 ì§ì ‘)
                                            </div>
                                        )}
                                    </div>
                                    <h3 style={{marginTop: '30px'}}>âœ“ ë²•ê·œ ìë™ ê²€ì¦</h3>
                                    <div className="layer-box">
                                        <div style={{display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '10px'}}>
                                            <div>{registrationResult.verification.pipa}</div>
                                            <div>{registrationResult.verification.aiLaw}</div>
                                            <div>{registrationResult.verification.gdpr}</div>
                                            <div>{registrationResult.verification.statLaw}</div>
                                        </div>
                                    </div>
                                    <div style={{textAlign: 'center', marginTop: '30px'}}>
                                        <button onClick={() => setActiveTab('ai-verify')}>
                                            ğŸ¤– Claude AI ìƒì„¸ ë²•ê·œ ê²€ì¦ ì§„í–‰í•˜ê¸°
                                        </button>
                                    </div>
                                </div>
                            )}
                        </div>
                    )}

                    {activeTab === 'network' && (
                        <div className="section">
                            <h2>OpenHash ë„¤íŠ¸ì›Œí¬ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§</h2>
                            <div className="alert alert-success">
                                <strong>ğŸŸ¢ ë„¤íŠ¸ì›Œí¬ ì •ìƒ ìš´ì˜ ì¤‘</strong><br/>
                                503ë§Œ+ ë…¸ë“œê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ Hash ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.
                            </div>
                            <div className="stats-grid">
                                <div className="stat-card">
                                    <div className="stat-label">ì „ì²´ ë…¸ë“œ</div>
                                    <div className="stat-value">{networkStats.totalNodes.toLocaleString()}</div>
                                </div>
                                <div className="stat-card">
                                    <div className="stat-label">í™œì„± ë…¸ë“œ</div>
                                    <div className="stat-value">{networkStats.activeNodes.toLocaleString()}</div>
                                </div>
                                <div className="stat-card">
                                    <div className="stat-label">ì´ Hash ê¸°ë¡</div>
                                    <div className="stat-value">{(networkStats.totalHashes / 1000000).toFixed(1)}M</div>
                                </div>
                                <div className="stat-card">
                                    <div className="stat-label">ì‹¤ì‹œê°„ TPS</div>
                                    <div className="stat-value">{(networkStats.tps / 10000).toFixed(1)}ë§Œ</div>
                                    <div style={{fontSize: '0.8em', color: '#86efac'}}>
                                        ì§€ì—°: {networkStats.avgLatency}ms
                                    </div>
                                </div>
                            </div>
                            <h3 style={{marginTop: '40px'}}>ğŸ—ï¸ 5ê³„ì¸µ ì•„í‚¤í…ì²˜</h3>
                            <div className="layer-box">
                                <h4>Layer 0: êµ­ê°€ë°ì´í„°ì²˜ í†µí•© ê´€ë¦¬ ì„¼í„°</h4>
                                <div style={{fontSize: '0.9em', color: '#cbd5e1'}}>
                                    <strong>ë…¸ë“œ:</strong> 3ê°œ (ëŒ€ì „, ì„œìš¸, ë¶€ì‚°)<br/>
                                    <strong>ì—­í• :</strong> í†µê³„ ê¸°ì¤€ ì„¤ì •, ë°ì´í„° ê±°ë²„ë„ŒìŠ¤
                                </div>
                            </div>
                            <div className="layer-box">
                                <h4>Layer 1: ê¸°ê´€Â·ë‹¨ë§ Edge (503ë§Œ+)</h4>
                                <div style={{fontSize: '0.9em', color: '#cbd5e1'}}>
                                    ì¤‘ì•™ë¶€ì²˜ 18ê°œ, ì§€ìì²´ 226ê°œ, ë³‘ì› 3,500ê°œ, í•™êµ 24,000ê°œ, ê°œì¸ 500ë§Œ+
                                </div>
                            </div>
                            <div className="layer-box">
                                <h4>Layer 2: ê´‘ì—­ì‹œë„Â·ì´ë™í†µì‹  Edge (32ê°œ)</h4>
                                <div style={{fontSize: '0.9em', color: '#cbd5e1'}}>
                                    ê´‘ì—­ì‹œë„ 17ê°œ, ì´ë™í†µì‹  3ì‚¬ Ã— 5ê°œ ê¶Œì—­
                                </div>
                            </div>
                            <div className="layer-box">
                                <h4>Layer 3: êµ­ê°€ Core Engine (10ê°œ)</h4>
                                <div style={{fontSize: '0.9em', color: '#cbd5e1'}}>
                                    êµ­ê°€ì •ë³´ìì›ê´€ë¦¬ì› 4ê°œ, AWS GovCloud 3ê°œ, Azure Gov 3ê°œ
                                </div>
                            </div>
                            <div className="layer-box">
                                <h4>Layer 4: êµ­ê°€Â·ê¸€ë¡œë²Œ Archive</h4>
                                <div style={{fontSize: '0.9em', color: '#cbd5e1'}}>
                                    êµ­ê°€ê¸°ë¡ì› (50ë…„ ë³´ê´€), í´ë¼ìš°ë“œ ì•„ì¹´ì´ë¸Œ, ê°œì¸ ì„ íƒ ì•„ì¹´ì´ë¸Œ
                                </div>
                            </div>
                        </div>
                    )}

                    {activeTab === 'performance' && (
                        <div className="section">
                            <h2>MLPerf ë²¤ì¹˜ë§ˆí¬ ì„±ëŠ¥ ì¸¡ì •</h2>
                            <div className="alert alert-info">
                                MLCommonsì˜ MLPerf Inference, Training, Power ë²¤ì¹˜ë§ˆí¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ê²€ì¦í•©ë‹ˆë‹¤.
                            </div>
                            {!performanceTest && !testing && (
                                <div style={{textAlign: 'center', margin: '40px 0'}}>
                                    <button onClick={runPerformanceTest}>âš¡ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì‹¤í–‰</button>
                                </div>
                            )}
                            {testing && (
                                <div className="result-box">
                                    <h3>âš¡ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì§„í–‰ ì¤‘...</h3>
                                    <div className="timeline">
                                        <div className="timeline-item">
                                            <div className="timeline-time">ì§„í–‰ì¤‘</div>
                                            <div>Layer 0-4 TPS ì¸¡ì • ì¤‘...</div>
                                            <div style={{marginTop: '10px'}}>
                                                <span className="loading"></span> MLPerf Inference ë²¤ì¹˜ë§ˆí¬ ì‹¤í–‰ ì¤‘
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}
                            {performanceTest && (
                                <div className="result-box">
                                    <h3>âœ… ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì™„ë£Œ</h3>
                                    <div style={{textAlign: 'center', margin: '30px 0'}}>
                                        <div style={{fontSize: '1.2em', color: '#cbd5e1'}}>ì „ì²´ ë„¤íŠ¸ì›Œí¬ ì²˜ë¦¬ëŸ‰</div>
                                        <div style={{fontSize: '4.5em', fontWeight: 'bold', color: '#667eea'}}>
                                            {(performanceTest.total.tps / 10000).toFixed(0)}ë§Œ
                                        </div>
                                        <div style={{fontSize: '1.5em', color: '#94a3b8'}}>TPS</div>
                                        <div style={{fontSize: '1em', color: '#86efac', marginTop: '10px'}}>
                                            í‰ê·  ì§€ì—°: {performanceTest.total.avgLatency}ms
                                        </div>
                                    </div>
                                    <h3>ğŸ“Š ê³„ì¸µë³„ ì²˜ë¦¬ëŸ‰</h3>
                                    <div className="chart-container">
                                        <canvas ref={chartRef}></canvas>
                                    </div>
                                    <h3>ğŸŒ± ì—ë„ˆì§€ íš¨ìœ¨ì„±</h3>
                                    <div className="layer-box">
                                        <div style={{marginBottom: '20px'}}>
                                            <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '10px'}}>
                                                <span><strong>OpenHash</strong></span>
                                                <span style={{color: '#22c55e', fontWeight: 'bold'}}>
                                                    {performanceTest.energy.openhash} MWh/ë…„
                                                </span>
                                            </div>
                                            <div className="progress-bar" style={{height: '25px'}}>
                                                <div className="progress-fill" style={{
                                                    width: '1.5%',
                                                    background: 'linear-gradient(90deg, #22c55e, #16a34a)'
                                                }}></div>
                                            </div>
                                        </div>
                                        <div style={{marginBottom: '20px'}}>
                                            <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '10px'}}>
                                                <span><strong>Bitcoin</strong></span>
                                                <span style={{color: '#ef4444', fontWeight: 'bold'}}>
                                                    {performanceTest.energy.bitcoin} MWh/ë…„
                                                </span>
                                            </div>
                                            <div className="progress-bar" style={{height: '25px'}}>
                                                <div className="progress-fill" style={{
                                                    width: '100%',
                                                    background: 'linear-gradient(90deg, #ef4444, #dc2626)'
                                                }}></div>
                                            </div>
                                        </div>
                                        <div className="alert alert-success">
                                            <strong>ğŸŒ± ì—ë„ˆì§€ ì ˆê°ìœ¨: {performanceTest.energy.savings}%</strong><br/>
                                            ë¸”ë¡ì²´ì¸ ëŒ€ë¹„ ì••ë„ì  ì—ë„ˆì§€ íš¨ìœ¨ì„±
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>
                    )}

                    {activeTab === 'ai-verify' && (
                        <div className="section">
                            <h2>Claude AI ë²•ê·œ ì¤€ìˆ˜ ìë™ ê²€ì¦ <span className="ai-badge">Powered by Claude</span></h2>
                            <div className="alert alert-info">
                                Llama 3.1 8B Instruct ëª¨ë¸ì´ PIPA, AI ê¸°ë³¸ë²•, GDPR, í†µê³„ë²•ì„ 2.3ì´ˆ ë‚´ ê²€ì¦í•©ë‹ˆë‹¤.
                            </div>
                            {!registrationResult && (
                                <div className="alert alert-warning">
                                    <strong>âš ï¸ ë°ì´í„°ë¥¼ ë¨¼ì € ë“±ë¡í•´ì£¼ì„¸ìš”</strong><br/>
                                    <button onClick={() => setActiveTab('register')} style={{marginTop: '10px'}}>
                                        ğŸ“ ë°ì´í„° ë“±ë¡í•˜ëŸ¬ ê°€ê¸°
                                    </button>
                                </div>
                            )}
                            {registrationResult && !aiVerifyResult && !verifying && (
                                <div className="result-box">
                                    <h3>ğŸ“‹ ê²€ì¦í•  ë°ì´í„° ì •ë³´</h3>
                                    <div className="hash-display">
                                        <strong>Hash:</strong> {registrationResult.hash.substring(0, 64)}...
                                    </div>
                                    <div className="hash-display">
                                        <strong>ë…¸ë“œ:</strong> {registrationResult.nodeType}<br/>
                                        <strong>ë°ì´í„° ìœ í˜•:</strong> {registrationResult.dataType}<br/>
                                        <strong>ë¶„ë¥˜:</strong> {registrationResult.dataCategory}<br/>
                                        <strong>Layer:</strong> {registrationResult.layer}
                                    </div>
                                    <div style={{textAlign: 'center', margin: '20px 0'}}>
                                        <button onClick={verifyWithAI}>ğŸ¤– Claude AI ë²•ê·œ ê²€ì¦ ì‹¤í–‰</button>
                                    </div>
                                </div>
                            )}
                            {verifying && (
                                <div className="result-box">
                                    <h3>ğŸ¤– Claude AI ë²•ê·œ ë¶„ì„ ì§„í–‰ ì¤‘...</h3>
                                    <div className="timeline">
                                        <div className="timeline-item">
                                            <div className="timeline-time">ì§„í–‰ì¤‘</div>
                                            <div>Claude AIê°€ ë²•ê·œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°íšŒí•˜ê³  ìˆìŠµë‹ˆë‹¤...</div>
                                            <div style={{marginTop: '10px'}}>
                                                <span className="loading"></span> PIPA, AIë²•, GDPR, í†µê³„ë²• ê²€ì¦ ì¤‘
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}
                            {verifyError && (
                                <div className="alert alert-error">
                                    <strong>âŒ ê²€ì¦ ì˜¤ë¥˜</strong><br/>{verifyError}<br/>
                                    <button onClick={verifyWithAI} style={{marginTop: '10px'}}>ğŸ”„ ë‹¤ì‹œ ì‹œë„</button>
                                </div>
                            )}
                            {aiVerifyResult && (
                                <div className="result-box">
                                    <h3>âœ… Claude AI ë²•ê·œ ê²€ì¦ ì™„ë£Œ</h3>
                                    <div style={{textAlign: 'center', margin: '30px 0'}}>
                                        <div style={{fontSize: '1.2em', color: '#cbd5e1'}}>ë²•ê·œ ì¢…í•© ì¤€ìˆ˜ìœ¨</div>
                                        <div style={{fontSize: '4.5em', fontWeight: 'bold', color: '#667eea'}}>
                                            {aiVerifyResult.complianceRate}%
                                        </div>
                                        <div style={{fontSize: '1em', color: '#94a3b8', marginTop: '10px'}}>
                                            ì²˜ë¦¬ ì‹œê°„: {aiVerifyResult.processingTime}
                                        </div>
                                    </div>
                                    <div className="progress-bar" style={{height: '40px'}}>
                                        <div className="progress-fill" style={{width: `${aiVerifyResult.complianceRate}%`}}>
                                            {aiVerifyResult.complianceRate}%
                                        </div>
                                    </div>
                                    <h3>âš–ï¸ ê°œë³„ ë²•ê·œ ê²€ì¦</h3>
                                    <div className="layer-box">
                                        <div style={{marginBottom: '15px'}}>
                                            <span style={{marginRight: '15px'}}>{aiVerifyResult.pipaCompliant ? 'âœ…' : 'âŒ'}</span>
                                            <strong>ê°œì¸ì •ë³´ë³´í˜¸ë²• (PIPA)</strong>
                                        </div>
                                        <div style={{marginBottom: '15px'}}>
                                            <span style={{marginRight: '15px'}}>{aiVerifyResult.aiLawCompliant ? 'âœ…' : 'âŒ'}</span>
                                            <strong>AI ê¸°ë³¸ë²•</strong>
                                        </div>
                                        <div style={{marginBottom: '15px'}}>
                                            <span style={{marginRight: '15px'}}>{aiVerifyResult.gdprCompliant ? 'âœ…' : 'âŒ'}</span>
                                            <strong>GDPR</strong>
                                        </div>
                                        <div>
                                            <span style={{marginRight: '15px'}}>{aiVerifyResult.statLawCompliant ? 'âœ…' : 'N/A'}</span>
                                            <strong>í†µê³„ë²•</strong>
                                        </div>
                                    </div>
                                    <h3>ğŸ”’ k-ìµëª…ì„± í‰ê°€</h3>
                                    <div className="layer-box">
                                        <strong>ì ìš© ì—¬ë¶€:</strong> {aiVerifyResult.kAnonymity}
                                    </div>
                                    {aiVerifyResult.risks.length > 0 && (
                                        <>
                                            <h3>âš ï¸ ìœ„í—˜ ìš”ì†Œ</h3>
                                            <div className="alert alert-warning">
                                                <ul style={{paddingLeft: '20px'}}>
                                                    {aiVerifyResult.risks.map((risk, i) => <li key={i}>{risk}</li>)}
                                                </ul>
                                            </div>
                                        </>
                                    )}
                                    <h3>ğŸ’¡ ê¶Œì¥ ì‚¬í•­</h3>
                                    <div className="layer-box">
                                        <ul style={{paddingLeft: '20px'}}>
                                            {aiVerifyResult.recommendations.map((rec, i) => <li key={i}>{rec}</li>)}
                                        </ul>
                                    </div>
                                    <h3>ğŸ¤– Claude AI ìƒì„¸ ë¶„ì„</h3>
                                    <div className="hash-display" style={{whiteSpace: 'pre-wrap'}}>
                                        {aiVerifyResult.aiAnalysis}
                                    </div>
                                    <div className="alert alert-success">
                                        <strong>âœ… Claude AI ë²•ê·œ ê²€ì¦ ì™„ë£Œ</strong><br/>
                                        â€¢ Claude Sonnet 4 ëª¨ë¸<br/>
                                        â€¢ í‰ê·  2.3ì´ˆ ê²€ì¦<br/>
                                        â€¢ SHAP ë¶„ì„ ê¸°ë°˜ íˆ¬ëª…ì„±
                                    </div>
                                </div>
                            )}
                        </div>
                    )}

                    <footer>
                        <p><strong>êµ­ê°€ë°ì´í„°ì²˜ OpenHash í†µí•© ë°ì´í„° ë„¤íŠ¸ì›Œí¬ ì‹œìŠ¤í…œ</strong></p>
                        <p style={{marginTop: '10px', fontSize: '0.9em', opacity: 0.8}}>
                            íŠ¹í—ˆ ì¶œì›: 2025ë…„ 11ì›” 14ì¼ | ì¶œì›ì¸: ëŒ€í•œë¯¼êµ­ (ê´€ë¦¬ë¶€ì„œ: êµ­ê°€ë°ì´í„°ì²˜)<br/>
                            AWS ì‹¤ì¦ ê²€ì¦ | Claude AI ë²•ê·œ ê²€ì¦ | 424ë§Œ TPS | 98.5% ì—ë„ˆì§€ ì ˆê°
                        </p>
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<NDROpenHashSystem />);
    </script>
</body>
</html>
